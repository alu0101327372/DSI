<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ull-esit-inf-dsi-21-22-prct07-music-datamodel-grupo_r</title><meta name="description" content="Documentation for ull-esit-inf-dsi-21-22-prct07-music-datamodel-grupo_r"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ull-esit-inf-dsi-21-22-prct07-music-datamodel-grupo_r</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> ull-esit-inf-dsi-21-22-prct07-music-datamodel-grupo_r</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#práctica-7---digitalizando-la-colección-de-música-de-los-abuelos" id="práctica-7---digitalizando-la-colección-de-música-de-los-abuelos" style="color: inherit; text-decoration: none;">
  <h1>Práctica 7 - Digitalizando la colección de música de los abuelos</h1>
</a>
<ul>
<li>Marco Antonio Cabrera Hernández</li>
<li>Jonay Méndez Márquez</li>
<li>Mario Hernández García</li>
</ul>
<p><a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2122_ull-esit-inf-dsi-21-22-prct07-music-datamodel-grupo_r"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2122_ull-esit-inf-dsi-21-22-prct07-music-datamodel-grupo_r&metric=alert_status" alt="Quality Gate Status"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct07-music-datamodel-grupo_r/actions/workflows/test.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct07-music-datamodel-grupo_r/actions/workflows/test.js.yml/badge.svg" alt="Test"></a></p>
<p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct07-music-datamodel-grupo_r?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct07-music-datamodel-grupo_r/badge.svg?branch=main" alt="Coverage Status"></a></p>

<a href="#musitronic360---digitalizando-una-colección-musical" id="musitronic360---digitalizando-una-colección-musical" style="color: inherit; text-decoration: none;">
  <h1>Musitronic360 - Digitalizando una colección musical</h1>
</a>
<p>El propósito del proyecto es sencillo: diseñar, construir y digitalizar una colección de música. Esto supone poder almacenar toda la información que sea útil a la hora de identificar los distintos elementos del sistema (artistas, canciones, álbumes, etc), y no solo eso, sino tener toda esta información jerarquizada y vinculada entre sí para lograr el perfecto entramado de una base de datos musical. Gestionar, añadir, modificar o eliminar parte de esta información será una parte indispensable del programa, y a estas y otras metas les seguirán una serie de decisiones y soluciones para hacer que todo funcione como es debido. </p>
<p>Es la estructura del programa, las decisiones que hemos tomado y las soluciones que hacen que cada pieza encaje, lo que explicaremos en este informe. Presentamos así nuestro proyecto <em>Musitronic360</em>, donde podrás guardar, reproducir y recopilar la información de tus canciones favoritas.</p>

<a href="#clases-básicas-las-piezas-del-puzzle" id="clases-básicas-las-piezas-del-puzzle" style="color: inherit; text-decoration: none;">
  <h1>Clases básicas: Las piezas del puzzle</h1>
</a>
<blockquote>
<p><em>&quot;Programar sin una arquitectura o diseño en mente es como explorar una gruta sólo con una linterna: no sabes dónde estás, dónde has estado, ni hacia dónde vas.&quot;</em> ~ Danny Thorpe</p>
</blockquote>
<p>Una colección musical cumple con un único propósito principal, el de representar y gestionar música. Aunque en un primer momento pueda surgir la idea de que esto solo supone la carga y reproducción de sonidos, lo cierto es que una sola canción ya viene acompañada de mucha información de utilidad para el usuario que desea guardarla en una lista. ¿A qué album pertenece? ¿Cuánto dura? ¿Quién es ese que canta? ¿Hay más canciones de este artista? Y un sinfín de preguntas a las que nosotros, como desarrolladores, debemos asegurar una respuesta.</p>
<p>Para ello, tendremos en cuenta que toda la información (o al menos la que consideramos de prioridad para este proyecto) podrá distribuirse entre los distintos elementos:</p>
<ul>
<li><strong>Géneros musicales</strong></li>
<li><strong>Canciones</strong></li>
<li><strong>Álbumes</strong></li>
<li><strong>Grupos</strong></li>
<li><strong>Artistas</strong></li>
<li><strong>Playlists</strong></li>
</ul>
<p>Así, planteamos desde los primeros esbozos de nuestro diseño que la información estará ordenada y estrechamente relacionada entre sí. Por ejemplo, en nuestro sistema un album será una instancia de la clase <em>Album</em>, con su autor (instancia de <em>Artist</em> o <em>Group</em>) almacenado en uno de sus atributos. Asimismo, un grupo o un artista, instancias de <em>Group</em> y <em>Artist</em> respectivamente, tendrán como uno de sus atributos internos a los álbumes (instancias de <em>Album</em>) de los que son autores. Este será, además del corazón central de nuestro proyecto, la raíz de gran parte de las dificultades que enfrentaremos. </p>
<p>Debemos conseguir que la máquina funcione teniendo, como engranajes, objetos que a su vez almacenan otros objetos, y estos vinculados también en el sentido contrario, entrando en varias ocasiones en situaciones circulares.</p>
<p>Para poder visualizar esto mejor, se procede a presentar las distintas clases que entrarán en juego, así como sus respectivos atributos.</p>
<ul>
<li><p>class <strong>Genre</strong>  &emsp;⟶&emsp; Clase para representar un género musical</p>
<ul>
<li><strong>name:</strong> string &emsp;⟶&emsp; Nombre del género</li>
<li><strong>authors:</strong> (Group | Artist)[] &emsp;⟶&emsp; Grupos o autores con canciones del género</li>
<li><strong>albums:</strong> Album[] &emsp;⟶&emsp; Álbumes que se ubiquen dentro del género</li>
<li><strong>songs:</strong> Song[] &emsp;⟶&emsp; Canciones que se ubiquen dentro del género
 <br><br></li>
</ul>
</li>
<li><p>class <strong>Song</strong>  &emsp;⟶&emsp; Clase para representar una canción</p>
<ul>
<li><strong>name:</strong> string &emsp;⟶&emsp; Título de la canción</li>
<li><strong>artists:</strong> (Group | Artist) &emsp;⟶&emsp; Grupo o artista autor de la canción</li>
<li><strong>length:</strong> number &emsp;⟶&emsp; Duración (en segundos) de la canción</li>
<li><strong>genres:</strong> Genre[] &emsp;⟶&emsp; Géneros musicales de la canción</li>
<li><strong>plays:</strong> number &emsp;⟶&emsp; Reproducciones que tiene la canción</li>
<li><strong>isSingle:</strong> boolean &emsp;⟶&emsp; Valor booleano que indica si ha sido lanzada o no como <em>single</em>
 <br><br></li>
</ul>
</li>
<li><p>class <strong>Album</strong>  &emsp;⟶&emsp; Clase para representar un álbum musical</p>
<ul>
<li><strong>name:</strong> string &emsp;⟶&emsp; Título del álbum</li>
<li><strong>author:</strong> (Group | Artist) &emsp;⟶&emsp; Grupo o artista autor del álbum</li>
<li><strong>date:</strong> string &emsp;⟶&emsp; Fecha en la que fue estrenado el álbum</li>
<li><strong>genres:</strong> Genre[] &emsp;⟶&emsp; Géneros musicales del álbum</li>
<li><strong>songs:</strong> Song[] &emsp;⟶&emsp; Canciones que conforman el álbum
 <br><br></li>
</ul>
</li>
<li><p>class <strong>Group</strong>  &emsp;⟶&emsp; Clase para representar un grupo musical</p>
<ul>
<li><strong>name:</strong> string &emsp;⟶&emsp; Nombre del grupo</li>
<li><strong>members:</strong> Artist[] &emsp;⟶&emsp; Artistas miembros del grupo</li>
<li><strong>date:</strong> string &emsp;⟶&emsp; Fecha en la que se formó el grupo</li>
<li><strong>genres:</strong> Genre[] &emsp;⟶&emsp; Géneros musicales relacionados con el grupo</li>
<li><strong>albums:</strong> Album[] &emsp;⟶&emsp; Álbumes musicales publicados por el grupo</li>
<li><strong>listeners:</strong> number &emsp;⟶&emsp; Número de oyentes mensuales del grupo
 <br><br></li>
</ul>
</li>
<li><p>class <strong>Artist</strong>  &emsp;⟶&emsp; Clase para representar un artista musical</p>
<ul>
<li><strong>name:</strong> string &emsp;⟶&emsp; Nombre del artista</li>
<li><strong>groups:</strong> Group[] &emsp;⟶&emsp; Grupos musicales de los que forma parte el artista</li>
<li><strong>genres:</strong> Genre[] &emsp;⟶&emsp; Géneros musicales relacionados con el artista</li>
<li><strong>albums:</strong> Album[] &emsp;⟶&emsp; Álbumes musicales publicados por el artista</li>
<li><strong>songs:</strong> Song[] &emsp;⟶&emsp; Canciones publicadas por el artista</li>
<li><strong>listeners:</strong> number &emsp;⟶&emsp; Número de oyentes mensuales del artista
 <br><br></li>
</ul>
</li>
<li><p>class <strong>Playlist</strong>  &emsp;⟶&emsp; Clase para representar una playlist</p>
<ul>
<li><strong>name:</strong> string &emsp;⟶&emsp; Nombre de la playlist</li>
<li><strong>songs:</strong> Song[] &emsp;⟶&emsp; Canciones que conforman la playlist</li>
<li><strong>duration:</strong> number &emsp;⟶&emsp; Duración de la playlist (suma de la duración de todas sus canciones)</li>
<li><strong>genres:</strong> Genre[] &emsp;⟶&emsp; Géneros musicales de las canciones que lo conforman
 <br><br></li>
</ul>
</li>
</ul>
<p><em>! Los atributos en todas las clases han sido declarados como públicos. Esto es debido a que durante el desarrollo del programa nos enfrentamos al manejo de objetos genéricos y, tal y como se indica en la documentación, debíamos acceder a sus atributos directamente. La alternativa escogida fue, por lo tanto, renunciar a la declaración privada de los mismos y hacerlos públicos.</em></p>
<p> Sabiendo esto, se procede a la explicación en detalle de cómo se ha implementado cada una de las clases.</p>
<p><br><br></p>

<a href="#clase-genre" id="clase-genre" style="color: inherit; text-decoration: none;">
  <h2><strong>Clase Genre</strong></h2>
</a>
<hr>
<pre><code><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">authors</span><span class="hl-1">: (</span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1">)[],</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">albums</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[],</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[],</span><br/><span class="hl-1">    ) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">authors</span><span class="hl-1"> = </span><span class="hl-3">authors</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1"> = </span><span class="hl-3">albums</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1"> = </span><span class="hl-3">songs</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">    ∥ </span><span class="hl-3">Funciones</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">}</span>
</code></pre>
<hr>

<a href="#funciones-de-la-clase-genre" id="funciones-de-la-clase-genre" style="color: inherit; text-decoration: none;">
  <h2><strong>Funciones de la clase Genre</strong></h2>
</a>

<a href="#getter-de-name" id="getter-de-name" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>name</em></h3>
</a>
<blockquote>
<p>Devuelve el nombre del género</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getName</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-name" id="setter-de-name" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>name</em></h3>
</a>
<blockquote>
<p>Modifica el nombre del género</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-authors" id="getter-de-authors" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>authors</em></h3>
</a>
<blockquote>
<p>Devuelve autores relacionados con el género</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getAuthors</span><span class="hl-1">(): (</span><span class="hl-3">Group</span><span class="hl-1"> | </span><span class="hl-3">Artist</span><span class="hl-1">)[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">authors</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-authors" id="setter-de-authors" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>authors</em></h3>
</a>
<blockquote>
<p>Modifica la lista de autores relacionados con el género</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setAuthors</span><span class="hl-1">(</span><span class="hl-3">group</span><span class="hl-1">: </span><span class="hl-3">Group</span><span class="hl-1"> | </span><span class="hl-3">Artist</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">authors</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">group</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-albums" id="getter-de-albums" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>albums</em></h3>
</a>
<blockquote>
<p>Devuelve albumes relacionados con el género</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getAlbums</span><span class="hl-1">(): </span><span class="hl-3">Album</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-albums" id="setter-de-albums" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>albums</em></h3>
</a>
<blockquote>
<p>Añade un album a la lista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setAlbums</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">: </span><span class="hl-3">Album</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#replacealbums" id="replacealbums" style="color: inherit; text-decoration: none;">
  <h3>replaceAlbums()</h3>
</a>
<blockquote>
<p>Reemplaza los albumes relacionados con el género</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">replaceAlbums</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">: </span><span class="hl-3">Album</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1"> = </span><span class="hl-3">album</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-songs" id="getter-de-songs" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>songs</em></h3>
</a>
<blockquote>
<p>Devuelve la lista de canciones</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getSongs</span><span class="hl-1">(): </span><span class="hl-3">Song</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-songs" id="setter-de-songs" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>songs</em></h3>
</a>
<blockquote>
<p>Añade una canción a la lista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">: </span><span class="hl-3">Song</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#replacesongs" id="replacesongs" style="color: inherit; text-decoration: none;">
  <h3>replaceSongs()</h3>
</a>
<blockquote>
<p>Reemplaza la lista de canciones</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">replaceSongs</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">: </span><span class="hl-3">Song</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1"> = </span><span class="hl-3">song</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#print" id="print" style="color: inherit; text-decoration: none;">
  <h3>print()</h3>
</a>
<blockquote>
<p>Muestra por pantalla y devuelve como string la información del género musical con un buen formato</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">print</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">`Genre - </span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">name</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> Author: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">authors</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">g</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">g</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Albums: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">a</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Songs: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">s</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">s</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">------------</span><span class="hl-8">\n</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">output</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p><br><br></p>

<a href="#clase-song" id="clase-song" style="color: inherit; text-decoration: none;">
  <h2><strong>Clase Song</strong></h2>
</a>
<hr>
<pre><code><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">artists</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">length</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[],</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">plays</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">isSingle</span><span class="hl-1">: </span><span class="hl-2">boolean</span><span class="hl-1">,</span><br/><span class="hl-1">    ) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1"> = </span><span class="hl-3">artists</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">length</span><span class="hl-1"> = </span><span class="hl-3">length</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1"> = </span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">isSingle</span><span class="hl-1"> = </span><span class="hl-3">isSingle</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">plays</span><span class="hl-1"> = </span><span class="hl-3">plays</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">    ∥ </span><span class="hl-3">Funciones</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">}</span>
</code></pre>
<hr>

<a href="#funciones-de-la-clase-song" id="funciones-de-la-clase-song" style="color: inherit; text-decoration: none;">
  <h2><strong>Funciones de la clase Song</strong></h2>
</a>

<a href="#getter-de-name-1" id="getter-de-name-1" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>name</em></h3>
</a>
<blockquote>
<p>Devuelve el nombre de la canción</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getName</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-name-1" id="setter-de-name-1" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>name</em></h3>
</a>
<blockquote>
<p>Modifica el nombre de la canción</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-artists" id="getter-de-artists" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>artists</em></h3>
</a>
<blockquote>
<p>Devuelve el artista o grupo autor</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getArtists</span><span class="hl-1">(): </span><span class="hl-3">Artist</span><span class="hl-1"> | </span><span class="hl-3">Group</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-artists" id="setter-de-artists" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>artists</em></h3>
</a>
<blockquote>
<p>Modifica el artista o grupo autor</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setArtists</span><span class="hl-1">(</span><span class="hl-3">artist</span><span class="hl-1">: </span><span class="hl-3">Artist</span><span class="hl-1"> | </span><span class="hl-3">Group</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1"> = </span><span class="hl-3">artist</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-length" id="getter-de-length" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>length</em></h3>
</a>
<blockquote>
<p>Devuelve la duración de la canción</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getLength</span><span class="hl-1">(): </span><span class="hl-3">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">length</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-length" id="setter-de-length" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>length</em></h3>
</a>
<blockquote>
<p>Modifica la duración de la canción</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setLength</span><span class="hl-1">(</span><span class="hl-3">length</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">length</span><span class="hl-1"> = </span><span class="hl-3">length</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-genres" id="getter-de-genres" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>genres</em></h3>
</a>
<blockquote>
<p>Devuelve los géneros musicales</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getGenres</span><span class="hl-1">(): </span><span class="hl-3">Genre</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-genres" id="setter-de-genres" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>genres</em></h3>
</a>
<blockquote>
<p>Añade un género musical</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setGenres</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">: </span><span class="hl-3">Genre</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#replacegenres" id="replacegenres" style="color: inherit; text-decoration: none;">
  <h3>replaceGenres()</h3>
</a>
<blockquote>
<p>Reemplazar la lista de géneros</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">replaceGenres</span><span class="hl-1">(</span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-3">Genre</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1"> = </span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-plays" id="getter-de-plays" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>plays</em></h3>
</a>
<blockquote>
<p>Devuelve el número de reproducciones</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getPlays</span><span class="hl-1">(): </span><span class="hl-3">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">plays</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-plays" id="setter-de-plays" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>plays</em></h3>
</a>
<blockquote>
<p>Modifica el número de reproducciones</p>
</blockquote>
<pre><code><span class="hl-4">setPlays</span><span class="hl-1">(</span><span class="hl-3">plays</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">plays</span><span class="hl-1"> = </span><span class="hl-3">plays</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-issingle" id="getter-de-issingle" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>isSingle</em></h3>
</a>
<blockquote>
<p>Devuelve si ha sido lanzada o no como single</p>
</blockquote>
<pre><code><span class="hl-4">getSingle</span><span class="hl-1">(): </span><span class="hl-3">boolean</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">isSingle</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-issingle" id="setter-de-issingle" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>isSingle</em></h3>
</a>
<blockquote>
<p>Modifica si ha sido lanzada o no como single</p>
</blockquote>
<pre><code><span class="hl-4">setSingle</span><span class="hl-1">(</span><span class="hl-3">isSingle</span><span class="hl-1">: </span><span class="hl-3">boolean</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">isSingle</span><span class="hl-1"> = </span><span class="hl-3">isSingle</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#print-1" id="print-1" style="color: inherit; text-decoration: none;">
  <h3>print()</h3>
</a>
<blockquote>
<p>Muestra por pantalla y devuelve como string la información de la canción con un buen formato</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">print</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">`Song - </span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">name</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Author: </span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">artists</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Length: </span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">length</span><span class="hl-0">}</span><span class="hl-6"> seconds`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Genres: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">g</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">g</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Plays: </span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">plays</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">isSingle</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Published as single?: Yes`</span><span class="hl-1">;</span><br/><span class="hl-1">    } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Published as single?: No`</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">------------</span><span class="hl-8">\n</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">output</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p><br><br></p>

<a href="#clase-album" id="clase-album" style="color: inherit; text-decoration: none;">
  <h2><strong>Clase Album</strong></h2>
</a>
<hr>
<pre><code><span class="hl-1">    </span><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">author</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">date</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[],</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[],</span><br/><span class="hl-1">    ) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">author</span><span class="hl-1"> = </span><span class="hl-3">author</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">date</span><span class="hl-1"> = </span><span class="hl-3">date</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1"> = </span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1"> = </span><span class="hl-3">songs</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">    ∥ </span><span class="hl-3">Funciones</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">}</span>
</code></pre>
<hr>

<a href="#funciones-de-la-clase-album" id="funciones-de-la-clase-album" style="color: inherit; text-decoration: none;">
  <h2><strong>Funciones de la clase Album</strong></h2>
</a>

<a href="#getter-de-name-2" id="getter-de-name-2" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>name</em></h3>
</a>
<blockquote>
<p>Devuelve el nombre del álbum</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getName</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-name-2" id="setter-de-name-2" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>name</em></h3>
</a>
<blockquote>
<p>Modifica el nombre del álbum</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-author" id="getter-de-author" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>author</em></h3>
</a>
<blockquote>
<p>Devuelve el autor</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getAuthor</span><span class="hl-1">(): </span><span class="hl-3">Artist</span><span class="hl-1"> | </span><span class="hl-3">Group</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">author</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-author" id="setter-de-author" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>author</em></h3>
</a>
<blockquote>
<p>Modifica el autor</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setAuthor</span><span class="hl-1">(</span><span class="hl-3">author</span><span class="hl-1">: </span><span class="hl-3">Artist</span><span class="hl-1"> | </span><span class="hl-3">Group</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">author</span><span class="hl-1"> = </span><span class="hl-3">author</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-date" id="getter-de-date" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>date</em></h3>
</a>
<blockquote>
<p>Devuelve la fecha de publicación</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getDate</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">date</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-date" id="setter-de-date" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>date</em></h3>
</a>
<blockquote>
<p>Modifica la fecha de publicación</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setDate</span><span class="hl-1">(</span><span class="hl-3">date</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">date</span><span class="hl-1"> = </span><span class="hl-3">date</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-genres-1" id="getter-de-genres-1" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>genres</em></h3>
</a>
<blockquote>
<p>Devuelve los géneros musicales</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getGenres</span><span class="hl-1">(): </span><span class="hl-3">Genre</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-genres-1" id="setter-de-genres-1" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>genres</em></h3>
</a>
<blockquote>
<p>Modifica los géneros musicales</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setGenres</span><span class="hl-1">(</span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-3">Genre</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1"> = </span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#addgenres" id="addgenres" style="color: inherit; text-decoration: none;">
  <h3>addGenres()</h3>
</a>
<blockquote>
<p>Añade un género a la lista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">addGenres</span><span class="hl-1">(</span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-3">Genre</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">for</span><span class="hl-1"> (</span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">i</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1"> = </span><span class="hl-9">0</span><span class="hl-1">; </span><span class="hl-3">i</span><span class="hl-1"> &lt; </span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-3">length</span><span class="hl-1">; </span><span class="hl-3">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">genres</span><span class="hl-1">[</span><span class="hl-3">i</span><span class="hl-1">]);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-songs-1" id="getter-de-songs-1" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>songs</em></h3>
</a>
<blockquote>
<p>Devuelve la lista de canciones</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getSongs</span><span class="hl-1">(): </span><span class="hl-3">Song</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-songs-1" id="setter-de-songs-1" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>songs</em></h3>
</a>
<blockquote>
<p>Modifica la lista de canciones</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-3">Song</span><span class="hl-1">[]) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1"> = </span><span class="hl-3">songs</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#print-2" id="print-2" style="color: inherit; text-decoration: none;">
  <h3>print()</h3>
</a>
<blockquote>
<p>Muestra por pantalla y devuelve como string la información del album con un buen formato</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">print</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">&#39;Album - &#39;</span><span class="hl-1"> + </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> + </span><span class="hl-6">&#39;</span><span class="hl-8">\n</span><span class="hl-6">Author: &#39;</span><span class="hl-1"> + </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">author</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> + </span><span class="hl-6">&#39;</span><span class="hl-8">\n</span><span class="hl-6">Date: &#39;</span><span class="hl-1"> + </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">date</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">&#39;</span><span class="hl-8">\n</span><span class="hl-6">Genres: &#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">g</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">&#39;</span><span class="hl-8">\n</span><span class="hl-6"> -&#39;</span><span class="hl-1"> + </span><span class="hl-3">g</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">&#39;</span><span class="hl-8">\n</span><span class="hl-6">Songs: &#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">s</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">&#39;</span><span class="hl-8">\n</span><span class="hl-6"> -&#39;</span><span class="hl-1"> + </span><span class="hl-3">s</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">&#39;</span><span class="hl-8">\n</span><span class="hl-6">------------</span><span class="hl-8">\n\n</span><span class="hl-6">&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">output</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p><br><br></p>

<a href="#clase-group" id="clase-group" style="color: inherit; text-decoration: none;">
  <h2><strong>Clase Group</strong></h2>
</a>
<hr>
<pre><code><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">Group</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">members</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1">[],</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">date</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[],</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">albums</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[],</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">listeners</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">    ) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">members</span><span class="hl-1"> = </span><span class="hl-3">members</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">date</span><span class="hl-1"> = </span><span class="hl-3">date</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1"> = </span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1"> = </span><span class="hl-3">albums</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">listeners</span><span class="hl-1"> = </span><span class="hl-3">listeners</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">    ∥ </span><span class="hl-3">Funciones</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">}</span>
</code></pre>
<hr>

<a href="#funciones-de-la-clase-group" id="funciones-de-la-clase-group" style="color: inherit; text-decoration: none;">
  <h2><strong>Funciones de la clase Group</strong></h2>
</a>

<a href="#getter-de-name-3" id="getter-de-name-3" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>name</em></h3>
</a>
<blockquote>
<p>Devuelve el nombre del grupo</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getName</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-name-3" id="setter-de-name-3" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>name</em></h3>
</a>
<blockquote>
<p>Modifica el nombre del grupo</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-members" id="getter-de-members" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>members</em></h3>
</a>
<blockquote>
<p>Devuelve el conjunto de artistas miembros</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getMembers</span><span class="hl-1">(): </span><span class="hl-3">Artist</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">members</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-members" id="setter-de-members" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>members</em></h3>
</a>
<blockquote>
<p>Modifica el conjunto de artistas miembros</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setMembers</span><span class="hl-1">(</span><span class="hl-3">members</span><span class="hl-1">: </span><span class="hl-3">Artist</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">members</span><span class="hl-1"> = </span><span class="hl-3">members</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-date-1" id="getter-de-date-1" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>date</em></h3>
</a>
<blockquote>
<p>Devuelve la fecha en la que se formó</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getDate</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">date</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-date-1" id="setter-de-date-1" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>date</em></h3>
</a>
<blockquote>
<p>Modifica la fecha en la que se formó</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setDate</span><span class="hl-1">(</span><span class="hl-3">date</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">date</span><span class="hl-1"> = </span><span class="hl-3">date</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-genres-2" id="getter-de-genres-2" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>genres</em></h3>
</a>
<blockquote>
<p>Devuelve los géneros musicales</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getGenres</span><span class="hl-1">(): </span><span class="hl-3">Genre</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-genres-2" id="setter-de-genres-2" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>genres</em></h3>
</a>
<blockquote>
<p>Modifica los géneros musicales</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setGenres</span><span class="hl-1">(</span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-3">Genre</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1"> = </span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#addgenres-1" id="addgenres-1" style="color: inherit; text-decoration: none;">
  <h3>addGenres()</h3>
</a>
<blockquote>
<p>Añade un género a la lista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">addGenres</span><span class="hl-1">(</span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-3">Genre</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">for</span><span class="hl-1"> (</span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">i</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1"> = </span><span class="hl-9">0</span><span class="hl-1">; </span><span class="hl-3">i</span><span class="hl-1"> &lt; </span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-3">length</span><span class="hl-1">; </span><span class="hl-3">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">genres</span><span class="hl-1">[</span><span class="hl-3">i</span><span class="hl-1">]);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-albums-1" id="getter-de-albums-1" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>albums</em></h3>
</a>
<blockquote>
<p>Devuelve la lista de álbumes</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getAlbums</span><span class="hl-1">(): </span><span class="hl-3">Album</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-albums-1" id="setter-de-albums-1" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>albums</em></h3>
</a>
<blockquote>
<p>Añade un album a la lista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setAlbums</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">: </span><span class="hl-3">Album</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#replacealbums-1" id="replacealbums-1" style="color: inherit; text-decoration: none;">
  <h3>replaceAlbums()</h3>
</a>
<blockquote>
<p>Reemplazar la lista de álbumes</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">replaceAlbums</span><span class="hl-1">(</span><span class="hl-3">albums</span><span class="hl-1">: </span><span class="hl-3">Album</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1"> = </span><span class="hl-3">albums</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-listeners" id="getter-de-listeners" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>listeners</em></h3>
</a>
<blockquote>
<p>Devuelve la cantidad de oyentes mensuales</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getListeners</span><span class="hl-1">(): </span><span class="hl-3">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">listeners</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-listeners" id="setter-de-listeners" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>listeners</em></h3>
</a>
<blockquote>
<p>Modifica la cantidad de oyentes mensuales</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setListeners</span><span class="hl-1">(</span><span class="hl-3">listerners</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">listeners</span><span class="hl-1"> = </span><span class="hl-3">listerners</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#incrementlisteners" id="incrementlisteners" style="color: inherit; text-decoration: none;">
  <h3>incrementListeners()</h3>
</a>
<blockquote>
<p>Incrementa en una unidad el número de oyentes</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">incrementListeners</span><span class="hl-1">(): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">listeners</span><span class="hl-1">++;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#print-3" id="print-3" style="color: inherit; text-decoration: none;">
  <h3>print()</h3>
</a>
<blockquote>
<p>Muestra por pantalla y devuelve como string la información del grupo con un buen formato</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">print</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">`Group - </span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">name</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Members: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">members</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">m</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">m</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Date: </span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">date</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Genres: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">g</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">g</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Albums: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">a</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Listeners: </span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">listeners</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">------------</span><span class="hl-8">\n</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">output</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p><br><br></p>

<a href="#clase-artist" id="clase-artist" style="color: inherit; text-decoration: none;">
  <h2><strong>Clase Artist</strong></h2>
</a>
<hr>
<pre><code><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">groups</span><span class="hl-1">: </span><span class="hl-2">Group</span><span class="hl-1">[],</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[],</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">albums</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[],</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[],</span><br/><span class="hl-1">        </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">listeners</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">    ) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1"> = </span><span class="hl-3">groups</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1"> = </span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1"> = </span><span class="hl-3">albums</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1"> = </span><span class="hl-3">songs</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">listeners</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">calculateListeners</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">    ∥ </span><span class="hl-3">Funciones</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">}</span>
</code></pre>
<hr>

<a href="#funciones-de-la-clase-artist" id="funciones-de-la-clase-artist" style="color: inherit; text-decoration: none;">
  <h2><strong>Funciones de la clase Artist</strong></h2>
</a>

<a href="#getter-de-name-4" id="getter-de-name-4" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>name</em></h3>
</a>
<blockquote>
<p>Devuelve el nombre del artista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getName</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-name-4" id="setter-de-name-4" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>name</em></h3>
</a>
<blockquote>
<p>Modifica el nombre del artista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-groups" id="getter-de-groups" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>groups</em></h3>
</a>
<blockquote>
<p>Devuelve los grupos de los que el artista forma parte</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getGroups</span><span class="hl-1">(): </span><span class="hl-3">Group</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-groups" id="setter-de-groups" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>groups</em></h3>
</a>
<blockquote>
<p>Modifica la lista de grupos de los que forma parte el artista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setGroups</span><span class="hl-1">(</span><span class="hl-3">group</span><span class="hl-1">: </span><span class="hl-3">Group</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">group</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-genres-3" id="getter-de-genres-3" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>genres</em></h3>
</a>
<blockquote>
<p>Devuelve los géneros musicales relacionados</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getGenres</span><span class="hl-1">(): </span><span class="hl-3">Genre</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-genres-3" id="setter-de-genres-3" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>genres</em></h3>
</a>
<blockquote>
<p>Modifica los géneros musicales relacionados</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setGenres</span><span class="hl-1">(</span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-3">Genre</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1"> = </span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-albums-2" id="getter-de-albums-2" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>albums</em></h3>
</a>
<blockquote>
<p>Devuelve la lista de álbumes</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getAlbums</span><span class="hl-1">(): </span><span class="hl-3">Album</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-albums-2" id="setter-de-albums-2" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>albums</em></h3>
</a>
<blockquote>
<p>Añade un album a la lista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setAlbums</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">: </span><span class="hl-3">Album</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#replacealbums-2" id="replacealbums-2" style="color: inherit; text-decoration: none;">
  <h3>replaceAlbums()</h3>
</a>
<blockquote>
<p>Reemplazar la lista de álbumes</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">replaceAlbums</span><span class="hl-1">(</span><span class="hl-3">albums</span><span class="hl-1">: </span><span class="hl-3">Album</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1"> = </span><span class="hl-3">albums</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-songs-2" id="getter-de-songs-2" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>songs</em></h3>
</a>
<blockquote>
<p>Devuelve la lista de canciones</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getSongs</span><span class="hl-1">(): </span><span class="hl-3">Song</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-songs-2" id="setter-de-songs-2" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>songs</em></h3>
</a>
<blockquote>
<p>Añade una canción a la lista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">: </span><span class="hl-3">Song</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#replacesongs-1" id="replacesongs-1" style="color: inherit; text-decoration: none;">
  <h3>replaceSongs()</h3>
</a>
<blockquote>
<p>Reemplaza la lista de canciones</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">replaceSongs</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">: </span><span class="hl-3">Song</span><span class="hl-1">[]): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1"> = </span><span class="hl-3">song</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#calculatelisteners" id="calculatelisteners" style="color: inherit; text-decoration: none;">
  <h3>calculateListeners()</h3>
</a>
<blockquote>
<p>Calcula la cantidad de oyentes mensuales</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-4">calculateListeners</span><span class="hl-1">(): </span><span class="hl-3">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">for</span><span class="hl-1"> (</span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">i</span><span class="hl-1"> = </span><span class="hl-9">0</span><span class="hl-1">; </span><span class="hl-3">i</span><span class="hl-1"> &lt; </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">.</span><span class="hl-3">length</span><span class="hl-1">; </span><span class="hl-3">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">listeners</span><span class="hl-1"> += </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">[</span><span class="hl-3">i</span><span class="hl-1">].</span><span class="hl-4">getListeners</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-5">for</span><span class="hl-1"> (</span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">j</span><span class="hl-1"> = </span><span class="hl-9">0</span><span class="hl-1">; </span><span class="hl-3">j</span><span class="hl-1"> &lt; </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-3">length</span><span class="hl-1">; </span><span class="hl-3">j</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">listeners</span><span class="hl-1"> += </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">[</span><span class="hl-3">j</span><span class="hl-1">].</span><span class="hl-4">getPlays</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">Number</span><span class="hl-1">((</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">listeners</span><span class="hl-1"> / </span><span class="hl-9">12</span><span class="hl-1">).</span><span class="hl-4">toFixed</span><span class="hl-1">());</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-listeners-1" id="getter-de-listeners-1" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>listeners</em></h3>
</a>
<blockquote>
<p>Devuelve la cantidad de oyentes mensuales</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getListeners</span><span class="hl-1">(): </span><span class="hl-3">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">listeners</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#print-4" id="print-4" style="color: inherit; text-decoration: none;">
  <h3>print()</h3>
</a>
<blockquote>
<p>Muestra por pantalla y devuelve como string la información del artista con un buen formato</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">print</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">`Artist - </span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">name</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Groups: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">g</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">g</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Genres: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">g</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">g</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Albums: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">a</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Songs: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">s</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">s</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Listeners: </span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">listeners</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">------------</span><span class="hl-8">\n</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">output</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p><br><br></p>

<a href="#clase-playlist" id="clase-playlist" style="color: inherit; text-decoration: none;">
  <h2><strong>Clase Playlist</strong></h2>
</a>
<hr>
<pre><code><span class="hl-1">    </span><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">Playlist</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">            </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">duration</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">public</span><span class="hl-1"> </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[],</span><br/><span class="hl-1">        ) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1"> = </span><span class="hl-3">songs</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">duration</span><span class="hl-1"> = </span><span class="hl-3">duration</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1"> = </span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">    ∥ </span><span class="hl-3">Funciones</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">}</span><br/><span class="hl-1">    </span>
</code></pre>
<hr>

<a href="#funciones-de-la-clase-playlist" id="funciones-de-la-clase-playlist" style="color: inherit; text-decoration: none;">
  <h2><strong>Funciones de la clase PLaylist</strong></h2>
</a>

<a href="#getter-de-name-5" id="getter-de-name-5" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>name</em></h3>
</a>
<blockquote>
<p>Devuelve el nombre de la playlist</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getName</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-name-5" id="setter-de-name-5" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>name</em></h3>
</a>
<blockquote>
<p>Modifica el nombre de la playlist</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1"> = </span><span class="hl-3">name</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-songs-3" id="getter-de-songs-3" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>songs</em></h3>
</a>
<blockquote>
<p>Devuelve la lista de canciones</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getSongs</span><span class="hl-1">(): </span><span class="hl-3">Song</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-songs-3" id="setter-de-songs-3" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>songs</em></h3>
</a>
<blockquote>
<p>Añade una canción a la lista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">: </span><span class="hl-3">Song</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-duration" id="getter-de-duration" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>duration</em></h3>
</a>
<blockquote>
<p>Devuelve la duración de la playlist</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getDuration</span><span class="hl-1">(): </span><span class="hl-3">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">duration</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-duration" id="setter-de-duration" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>duration</em></h3>
</a>
<blockquote>
<p>Formatea la duración (segundos) en &#39;hh:mm:ss&#39;</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-4">setDuration</span><span class="hl-1">(</span><span class="hl-3">seconds</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">hour</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1"> | </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-2">Math</span><span class="hl-1">.</span><span class="hl-4">floor</span><span class="hl-1">(</span><span class="hl-3">seconds</span><span class="hl-1"> / </span><span class="hl-9">3600</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">hour</span><span class="hl-1"> = (</span><span class="hl-3">hour</span><span class="hl-1"> &lt; </span><span class="hl-9">10</span><span class="hl-1">)? </span><span class="hl-6">&#39;0&#39;</span><span class="hl-1"> + </span><span class="hl-3">hour</span><span class="hl-1"> : </span><span class="hl-3">hour</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">minute</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1"> | </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-2">Math</span><span class="hl-1">.</span><span class="hl-4">floor</span><span class="hl-1">((</span><span class="hl-3">seconds</span><span class="hl-1"> / </span><span class="hl-9">60</span><span class="hl-1">) % </span><span class="hl-9">60</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">minute</span><span class="hl-1"> = (</span><span class="hl-3">minute</span><span class="hl-1"> &lt; </span><span class="hl-9">10</span><span class="hl-1">)? </span><span class="hl-6">&#39;0&#39;</span><span class="hl-1"> + </span><span class="hl-3">minute</span><span class="hl-1"> : </span><span class="hl-3">minute</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">second</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1"> | </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-3">seconds</span><span class="hl-1"> % </span><span class="hl-9">60</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">second</span><span class="hl-1"> = (</span><span class="hl-3">second</span><span class="hl-1"> &lt; </span><span class="hl-9">10</span><span class="hl-1">)? </span><span class="hl-6">&#39;0&#39;</span><span class="hl-1"> + </span><span class="hl-3">second</span><span class="hl-1"> : </span><span class="hl-3">second</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">hour</span><span class="hl-1"> + </span><span class="hl-6">&#39;:&#39;</span><span class="hl-1"> + </span><span class="hl-3">minute</span><span class="hl-1"> + </span><span class="hl-6">&#39;:&#39;</span><span class="hl-1"> + </span><span class="hl-3">second</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-genres-4" id="getter-de-genres-4" style="color: inherit; text-decoration: none;">
  <h3>Getter de <em>genres</em></h3>
</a>
<blockquote>
<p>Devuelve los géneros musicales</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getGenres</span><span class="hl-1">(): </span><span class="hl-3">Genre</span><span class="hl-1">[] {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#setter-de-genres-4" id="setter-de-genres-4" style="color: inherit; text-decoration: none;">
  <h3>Setter de <em>genres</em></h3>
</a>
<blockquote>
<p>Añade un género musical a la lista</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setGenres</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">: </span><span class="hl-3">Genre</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#print-5" id="print-5" style="color: inherit; text-decoration: none;">
  <h3>print()</h3>
</a>
<blockquote>
<p>Muestra por pantalla y devuelve como string la información de la playlist con un buen formato</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">print</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">`Playlist - </span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">name</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Songs: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">s</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">s</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Duration:`</span><span class="hl-1"> + </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">setDuration</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">duration</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">Genres: `</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">g</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6"> - </span><span class="hl-0">${</span><span class="hl-3">g</span><span class="hl-7">.</span><span class="hl-4">getName</span><span class="hl-7">()</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\n</span><span class="hl-6">------------</span><span class="hl-8">\n</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">output</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p><br><br></p>
<hr>
<p><br><br></p>

<a href="#musicdatabasejson-los-libros-de-nuestra-biblioteca" id="musicdatabasejson-los-libros-de-nuestra-biblioteca" style="color: inherit; text-decoration: none;">
  <h1>MusicDataBase.json: Los libros de nuestra biblioteca</h1>
</a>
<blockquote>
<p><em>&quot;Obtener información de internet es como intentar beber agua de una boca de incendios&quot;</em> ~ Mitchell Kapor</p>
</blockquote>
<p>Suponiendo que nuestro software sirviese de base para el desarrollo de una plataforma musical, debemos preparnos para la abrumadora cantidad de información que podría llegar a tener que soportar. En el momento en el que se redacta este informe, Spotify ya cuenta con más de 70 millones de canciones. </p>
<p>Nosotros, en un punto intermedio entre someter al sistema a una prueba de estrés, y al mismo tiempo tener que elaborar cada entrada de la base de datos a mano, elaboraremos los siguientes objetos con sus atributos y valores:</p>
<ul>
<li><strong>50</strong>&emsp;canciones distintas <em>{ Song }</em></li>
<li><strong>10</strong>&emsp;géneros musicales distintos <em>{ Genre }</em></li>
<li><strong>19</strong>&emsp;grupos musicales <em>{ Group }</em></li>
<li><strong>103</strong>&emsp;artistas musicales (tanto solistas como miembros de esos 19 grupos) <em>{ Artist }</em></li>
<li><strong>10</strong>&emsp;álbumes musicales <em>{ Album }</em></li>
<li><strong>3</strong>&emsp;playlists <em>{ Playlist }</em></li>
</ul>
<p>Todos y cada uno de los elementos previamente nombrados serán definidos en un JSON, para así poder gestionar, modificar, eliminar o añadir su contenido a través de nuestro programa (salvo en el caso de las playlists, como ya veremos más adelante).</p>
<p>🔗 <a href="./MusicDataBase.json">JSON: Base de Datos</a></p>
<p>Como puede observarse, en el fichero están preparados todos los objetos. Sin embargo, como debemos ajustarnos al formato JSON para almacenar la información, los tipos de los atributos deben ser tipos básicos. Por ello, y como ejemplo, aunque la idea sea gestionar la lista de canciones de un artista como un array instancias de <em>Song</em> (cada <em>Song</em> con sus atributos y métodos internos), a la hora de guardarlas en el fichero tendremos que representarlas mediante un array de <em>string</em> (donde cada <em>string</em> será el título de una canción).</p>
<p>Explicado de forma más visual:</p>
<ul>
<li>Forma del objeto <strong>[Song]</strong> con name = &quot;Speed Demon&quot;<ul>
<li><p>Durante la gestión de la información:
  <br>{<br>
  &emsp;&quot;name&quot;: &quot;Speed Demon&quot;,<br>
  &emsp;&quot;artists&quot;: <strong>[Artist]</strong>,<br>
  &emsp;&quot;length&quot;: 270,<br>
  &emsp;&quot;genres&quot;: <strong>[[Genre], [Genre]]</strong>,<br>
  &emsp;&quot;plays&quot;: 3000000,<br>
  &emsp;&quot;isSingle&quot;: false<br>
  }</p>
</li>
<li><p>Almacenado en la base de datos:
  <br>{<br>
  &emsp;&quot;name&quot;: &quot;Speed Demon&quot;,<br>
  &emsp;&quot;artists&quot;: &quot;Michael Jackson&quot;,<br>
  &emsp;&quot;length&quot;: 270,<br>
  &emsp;&quot;genres&quot;: [&quot;Electronic&quot;, &quot;Pop&quot;],<br>
  &emsp;&quot;plays&quot;: 3000000,<br>
  &emsp;&quot;isSingle&quot;: false<br>
  }</p>
</li>
</ul>
</li>
</ul>
<p>Está claro, pues, que plasmar en el JSON los objetos de esta forma no nos traerá mayores inconvenientes. El primer desafío llega, sin embargo, cuando queremos recoger la información plasmada en el JSON y reconvertirla en instancias de nuestras clases <em>Song</em>, <em>Artist</em>, etc.</p>
<p>Un artista tiene una lista de canciones, pero a su vez cada una de esas canciones tendrá a ese artista como autor. ¿Qué instanciamos antes? ¿Qué atributos de cada clase puede inicializarse vacío? Para asegurarnos de que todo estaba bien atado, antes de seguir con el desarrollo del código tuvimos que responder esas preguntas.</p>
<p>Creamos así el orden en el que deben ser instanciadas las clases y qué atributos pueden empezar con un valor vacío (para ser rellenado poco después con alguna instancia posterior). </p>
<p>He aquí dicho orden:</p>
<p><strong>[ Empezamos instanciando la clase Genre ]</strong> . . . . . . . . . . . . . . . . . . . . . . .</p>
<p>1 ··· <strong>Crear Genre</strong></p>
<ul>
<li><strong>Nombre</strong>&emsp;⟶&emsp;<strong>string</strong> definida en JSON</li>
<li><strong>Groups</strong>&emsp;⟶&emsp;Empieza vacío</li>
<li><strong>Albums</strong>&emsp;⟶&emsp;Empieza vacío</li>
<li><strong>Canciones</strong>&emsp;⟶&emsp;Empieza vacío</li>
</ul>
<p>2 ··· <strong>Crear Artist</strong></p>
<ul>
<li><strong>Nombre</strong>&emsp;⟶&emsp;<strong>string</strong> definida en JSON</li>
<li><strong>Groups</strong>&emsp;⟶&emsp;Empieza vacío</li>
<li><strong>Genres</strong>&emsp;⟶&emsp;<strong>Genre[]</strong> (se añade el artista a <strong>[Genre].groups</strong>)</li>
<li><strong>Albums</strong>&emsp;⟶&emsp;Empieza vacío</li>
<li><strong>Songs</strong>&emsp;⟶&emsp;Empieza vacío</li>
<li><strong>Listeners</strong>&emsp;⟶&emsp;<strong>number</strong> definido en JSON</li>
</ul>
<p>3 ··· <strong>Crear Group</strong></p>
<ul>
<li><strong>Nombre</strong>&emsp;⟶&emsp;<strong>string</strong> definida en JSON</li>
<li><strong>Members</strong>&emsp;⟶&emsp;<strong>Artist[]</strong> (se añade el grupo a <strong>[Artist].groups</strong>)</li>
<li><strong>Date</strong>&emsp;⟶&emsp;<strong>string</strong> definida en JSON</li>
<li><strong>Genres</strong>&emsp;⟶&emsp;<strong>Genre[]</strong> (se añade el grupo a <strong>[Genre].groups</strong>)</li>
<li><strong>Albums</strong>&emsp;⟶&emsp;Empieza vacío </li>
<li><strong>Listeners</strong>&emsp;⟶&emsp;<strong>number</strong> definido en JSON</li>
</ul>
<p>4 ··· <strong>Crear Song:</strong></p>
<ul>
<li><strong>Nombre</strong>&emsp;⟶&emsp;<strong>string</strong> definida en JSON</li>
<li><strong>Artists</strong>&emsp;⟶&emsp;<strong>Artist</strong> (se añade la canción a <strong>[Artist].songs</strong>)</li>
<li><strong>Length</strong>&emsp;⟶&emsp;<strong>number</strong> definido en JSON</li>
<li><strong>Genres</strong>&emsp;⟶&emsp;<strong>Genre[]</strong> (se añade la cancion a <strong>[Song].genres</strong>)</li>
<li><strong>Plays</strong>&emsp;⟶&emsp;<strong>number</strong> definido en JSON</li>
<li><strong>isSingle</strong>&emsp;⟶&emsp;<strong>boolean</strong> definido en JSON</li>
</ul>
<p>5 ··· <strong>Crear Album:</strong></p>
<ul>
<li><strong>Nombre</strong>&emsp;⟶&emsp;<strong>string</strong> definida en JSON</li>
<li><strong>Author</strong>&emsp;⟶&emsp;<strong>Artist | Group</strong> (se añade el album a <strong>[Artist].albums</strong> o <strong>Group.albums</strong>)</li>
<li><strong>Date</strong>&emsp;⟶&emsp;<strong>string</strong> definida en JSON </li>
<li><strong>Genres</strong>&emsp;⟶&emsp;<strong>Genre[]</strong> (se añade el album a <strong>[Genre].albums</strong>)</li>
<li><strong>Songs</strong>&emsp;⟶&emsp;<strong>Song[]</strong></li>
</ul>
<p>6 ··· <strong>Crear Playlist:</strong></p>
<ul>
<li><strong>Nombre</strong>&emsp;⟶&emsp;<strong>string</strong> definida en JSON</li>
<li><strong>Songs</strong>&emsp;⟶&emsp;<strong>Song[]</strong></li>
<li><strong>Duration</strong>&emsp;⟶&emsp;<strong>number</strong> definido en JSON</li>
<li><strong>Genres</strong>&emsp;⟶&emsp;<strong>Genre[]</strong></li>
</ul>
<p>. . . . . . . . . . . . . . . . . . . . . . . <strong>[ Instancias generadas con éxito ]</strong></p>
<p><br><br></p>
<hr>
<p><br><br></p>

<a href="#la-base-de-datos-colocando-los-engranajes" id="la-base-de-datos-colocando-los-engranajes" style="color: inherit; text-decoration: none;">
  <h1>La Base de Datos: Colocando los engranajes</h1>
</a>
<blockquote>
<p><em>“You can have data without information, but you cannot have information without data.”</em> ~ Daniel Keys Moran</p>
</blockquote>
<p>Teniendo diseñado el orden de instancia, la forma de cada elemento y el papel que jugará en el sistema, es el momento de ponerlo todo en orden y crear los primeros esbozos de nuestra base de datos.</p>

<a href="#interfaz-anydatabase" id="interfaz-anydatabase" style="color: inherit; text-decoration: none;">
  <h2><strong>Interfaz anyDatabase</strong></h2>
</a>
<p>Del mismo modo que un arquitecto no empieza a construir un edificio sin antes haberlo puesto sobre el papel, nuestro primer paso será crear un boceto, un molde, del que más tarde podremos partir con la seguridad de que no se tambaleará nuestra construcción. </p>
<p>Creamos así la interfaz AnyDatabase.</p>
<pre><code><span class="hl-0">interface</span><span class="hl-1"> </span><span class="hl-2">anyDatabase</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">addToMemory</span><span class="hl-1">(</span><span class="hl-3">item</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] | </span><span class="hl-2">Album</span><span class="hl-1">[] | </span><span class="hl-2">Genre</span><span class="hl-1">[] | </span><span class="hl-2">Group</span><span class="hl-1">[] | </span><span class="hl-2">Artist</span><span class="hl-1">[]| </span><span class="hl-2">Playlist</span><span class="hl-1">[]): </span><span class="hl-2">void</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">deleteFromMemory</span><span class="hl-1">(</span><span class="hl-3">item</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">, </span><span class="hl-3">type</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Como puede observarse a simple vista, planteamos que cualquier base de datos musical debe contener los siguientes elementos para considerarse funcional:</p>
<ul>
<li><p><strong>addToMemory</strong>&emsp;⟶&emsp;<strong>Un método para añadir elementos a memoria</strong> <br>Tenemos en cuenta todos y cada uno de los elementos definidos previamente:</p>
<ul>
<li>Canciones <em>[Song]</em></li>
<li>Álbumes <em>[Album]</em></li>
<li>Géneros <em>[Genre]</em></li>
<li>Grupos <em>[Group]</em></li>
<li>Artistas <em>[Artist]</em></li>
<li>Playlists <em>[Playlist]</em>
<br><br></li>
</ul>
</li>
<li><p><strong>removeFromMemory</strong>&emsp;⟶&emsp;<strong>Un método para eliminar elementos de la memoria</strong><br>Se les pasará como argumentos el nombre del elemento que se desea eliminar acompañado del tipo del objeto, para poder operar correctamente en el interior de la función.</p>
</li>
</ul>
<hr>
<br>


<a href="#clase-database" id="clase-database" style="color: inherit; text-decoration: none;">
  <h2><strong>Clase Database</strong></h2>
</a>
<pre><code><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">Database</span><span class="hl-1"> </span><span class="hl-0">implements</span><span class="hl-1"> </span><span class="hl-2">anyDatabase</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">protected</span><span class="hl-1"> </span><span class="hl-3">dbPlaylists</span><span class="hl-1">: </span><span class="hl-2">Playlist</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-0">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">protected</span><span class="hl-1"> </span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = [],</span><br/><span class="hl-1">        </span><span class="hl-0">protected</span><span class="hl-1"> </span><span class="hl-3">artists</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1">[] = [],</span><br/><span class="hl-1">        </span><span class="hl-0">protected</span><span class="hl-1"> </span><span class="hl-3">albums</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[] = [],</span><br/><span class="hl-1">        </span><span class="hl-0">protected</span><span class="hl-1"> </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = [],</span><br/><span class="hl-1">        </span><span class="hl-0">protected</span><span class="hl-1"> </span><span class="hl-3">groups</span><span class="hl-1">: </span><span class="hl-2">Group</span><span class="hl-1">[] = [],</span><br/><span class="hl-1">        </span><span class="hl-0">protected</span><span class="hl-1"> </span><span class="hl-3">playlists</span><span class="hl-1">: </span><span class="hl-2">Playlist</span><span class="hl-1">[] = [],</span><br/><span class="hl-1">    ) {}</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">    ∥ </span><span class="hl-3">Funciones</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#¿-dbplaylists-≠-playlists-" id="¿-dbplaylists-≠-playlists-" style="color: inherit; text-decoration: none;">
  <h3>¿ <em>dbPlaylists ≠ playlists</em> ?</h3>
</a>
<p>Al leer el fragmento de código anterior, pueden surgir las siguientes cuestiones: ¿Qué es el atributo <em>dbPlaylists</em>? ¿En qué difiere del atributo <em>playlists</em> declarado en el constructor? ¿Acaso almacenan información diferente?</p>
<p>A esta última pregunta, la respuesta más acertada sería un &quot;a medias&quot;. Como uno de los puntos del enunciado de esta práctica consiste en lograr que solo puedan eliminarse o modificarse aquellas playlists creadas por el usuario, dejando fuera del alcance aquellas que ya estaban definidas previamente, debíamos encontrar una forma de diferenciar las playlists &#39;nuevas&#39; de las playlists &#39;fijas&#39;. Para ello, realizamos el siguiente proceso:</p>
<ul>
<li>Cargamos las playlists recogidas del fichero JSON en el atributo <em>dbPlaylists</em></li>
<li>Cargamos las playlists recogidas del fichero JSON en el atributo <em>playlists</em></li>
<li>Cuando un usuario crea una nueva playlist, la cargamos en el atributo <em>playlists</em></li>
</ul>
<p>De esta forma, conseguimos que en el atributo <em>playlists</em> estén, como su nombre indica, todas las playlists de la base de datos. Por otro lado, en el atributo <em>dbPLaylists</em> estarán solo aquellas cargadas desde el fichero JSON, las consideras intocables. Así, cuando el usuario navegue por la terminal, o incluso dentro de los propios métodos de la gestión de la base de datos, podremos omitir aquellas playlists que se encuentren en el atributo <em>dbPlaylists</em>. De esta forma, nos aseguramos tenerlas a buen recaudo.</p>
<hr>
<br>


<a href="#funciones-de-la-clase-database" id="funciones-de-la-clase-database" style="color: inherit; text-decoration: none;">
  <h2>Funciones de la clase Database</h2>
</a>

<a href="#addtomemory" id="addtomemory" style="color: inherit; text-decoration: none;">
  <h3>addToMemory()</h3>
</a>
<blockquote>
<p>Añade elementos a memoria</p>
</blockquote>
<pre><code><span class="hl-4">addToMemory</span><span class="hl-1">(</span><span class="hl-3">item</span><span class="hl-1">: (</span><span class="hl-3">Song</span><span class="hl-1">[] | </span><span class="hl-3">Album</span><span class="hl-1">[] | </span><span class="hl-3">Genre</span><span class="hl-1">[] | </span><span class="hl-3">Group</span><span class="hl-1">[] | </span><span class="hl-3">Artist</span><span class="hl-1">[] | </span><span class="hl-3">Playlist</span><span class="hl-1">[])): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">((</span><span class="hl-3">resolve</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">item</span><span class="hl-1">.</span><span class="hl-2">forEach</span><span class="hl-1">((</span><span class="hl-3">item</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> </span><span class="hl-3">instanceof</span><span class="hl-1"> </span><span class="hl-3">Song</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">item</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> </span><span class="hl-3">instanceof</span><span class="hl-1"> </span><span class="hl-3">Album</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">item</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> </span><span class="hl-3">instanceof</span><span class="hl-1"> </span><span class="hl-3">Genre</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">item</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> </span><span class="hl-3">instanceof</span><span class="hl-1"> </span><span class="hl-3">Group</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">item</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> </span><span class="hl-3">instanceof</span><span class="hl-1"> </span><span class="hl-3">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">item</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> </span><span class="hl-3">instanceof</span><span class="hl-1"> </span><span class="hl-3">Playlist</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">playlists</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">item</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Esta es una función sencilla. Recibe los elementos que se quieren almacenar en la memoria (nuestro objeto [Database]) y, según se haya recibido un array de instancias de una clase u otra, se realiza un push() de cada elemento de dicha array al atributo que corresponda. </p>

<a href="#getfrommemory" id="getfrommemory" style="color: inherit; text-decoration: none;">
  <h3>getFromMemory()</h3>
</a>
<blockquote>
<p>Recoge elementos de la memoria</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-3">item</span><span class="hl-1">:</span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-3">type</span><span class="hl-1">:</span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;(</span><span class="hl-3">Song</span><span class="hl-1"> | </span><span class="hl-3">Group</span><span class="hl-1"> | </span><span class="hl-3">Artist</span><span class="hl-1"> | </span><span class="hl-3">Album</span><span class="hl-1"> | </span><span class="hl-3">Genre</span><span class="hl-1"> | </span><span class="hl-3">Playlist</span><span class="hl-1">)[]&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">((</span><span class="hl-3">resolve</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: (</span><span class="hl-2">Song</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Album</span><span class="hl-1"> | </span><span class="hl-2">Genre</span><span class="hl-1"> | </span><span class="hl-2">Playlist</span><span class="hl-1">)[] = [];</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">type</span><span class="hl-1"> == </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> !== </span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">value</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">&#39;getName&#39;</span><span class="hl-1"> </span><span class="hl-0">in</span><span class="hl-1"> </span><span class="hl-3">value</span><span class="hl-1"> &amp;&amp; </span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() === </span><span class="hl-3">item</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">            </span><span class="hl-3">dummy</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">value</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">type</span><span class="hl-1"> == </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> !== </span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">value</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">&#39;getTitle&#39;</span><span class="hl-1"> </span><span class="hl-0">in</span><span class="hl-1"> </span><span class="hl-3">value</span><span class="hl-1"> &amp;&amp; </span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() === </span><span class="hl-3">item</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">dummy</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">value</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">type</span><span class="hl-1"> == </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> !== </span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">value</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() === </span><span class="hl-3">item</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">dummy</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">value</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">type</span><span class="hl-1"> == </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> !== </span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">value</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() === </span><span class="hl-3">item</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">dummy</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">value</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">type</span><span class="hl-1"> == </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> !== </span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">value</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() === </span><span class="hl-3">item</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">dummy</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">value</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">type</span><span class="hl-1"> == </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">playlists</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;$ONLYNEW$&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">playlists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">value</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">dbPlaylists</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">value</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">dummy</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">value</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">default</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">playlists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">value</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() === </span><span class="hl-3">item</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-3">dummy</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">value</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Esta función recibe dos argumentos de tipo <em>string</em> (<em>item</em> y <em>type</em>). Expliquemos qué propósito cumple cada uno:</p>
<ul>
<li>item&emsp;⟶&emsp;Será el nombre del objeto que queramos buscar y recoger. Por ejemplo, si queremos recoger una canción almacenada en la memoria de título &#39;Scatman&#39;, buscaremos en el atributo <em>songs</em> de nuestra base de datos e inyectaremos en la respuesta de la función (dummy) aquel objeto [Song] cuyo atributo <em>name</em> contenga la string &#39;Scatman&#39;.<ul>
<li>$ALL$&emsp;⟶&emsp;Existe la posibilidad de que no queramos recoger un solo elemento de la memoria, sino que por ejemplo queramos recoger todas las canciones, o todos los artistas. Para esto, hemos añadido la opción de que <em>item</em> contenga esta string reservada. Si <em>item</em> contiene &#39;$ALL$&#39;, entonces la respuesta de la función será el array completo de elementos del tipo indicado.</li>
<li>$ONLYNEW$&emsp;⟶&emsp;Como se ha nombrado anteriormente, se ha planteado que solo deben poder ser modificadas o eliminadas las playlists creadas manualmente por el propio usuario durante la ejecución del programa, y no aquellas que ya venían definidas en un primer momento. Para ello, creamos esta segunda string reservada. Así, cuando queramos asegurarnos de que solo recogemos de memoria aquellas playlists creadas por el usuario, llamamos a la función con esta string especial, omitiendo así las playlists originales y recibiendo solo las nuevas.</li>
</ul>
</li>
<li>type&emsp;⟶&emsp;Para indicar que queremos recoger una canción, bastará con indicar &#39;song&#39; como segundo argumento. Para recoger un álbum, se indicará &#39;album&#39;. Y así, como es obvio, con el resto de elementos de nuestra base de datos. Con esto conseguimos focalizar la búsqueda desde un primer momento, facilitando además el desarrollo del código y haciéndolo más comprensible.</li>
</ul>
<br>


<a href="#purgememory" id="purgememory" style="color: inherit; text-decoration: none;">
  <h3>purgeMemory()</h3>
</a>
<blockquote>
<p>Vacía la memoria</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">purgeMemory</span><span class="hl-1">(): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">((</span><span class="hl-3">resolve</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1"> = [];</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1"> = [];</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1"> = [];</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1"> = [];</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1"> = [];</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-3">playlists</span><span class="hl-1"> = [];</span><br/><span class="hl-1">    </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p><em>! Nótese que se vacían todos los atributos salvo dbPlaylists.</em></p>
<br>


<a href="#deletefrommemory" id="deletefrommemory" style="color: inherit; text-decoration: none;">
  <h3>deleteFromMemory()</h3>
</a>
<blockquote>
<p>Borra un elemento de la memoria</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-4">deleteFromMemory</span><span class="hl-1">(</span><span class="hl-3">item</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-3">type</span><span class="hl-1">:</span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;(</span><span class="hl-3">Song</span><span class="hl-1"> | </span><span class="hl-3">Group</span><span class="hl-1"> | </span><span class="hl-3">Artist</span><span class="hl-1"> | </span><span class="hl-3">Album</span><span class="hl-1"> | </span><span class="hl-3">Genre</span><span class="hl-1"> | </span><span class="hl-3">Playlist</span><span class="hl-1">| </span><span class="hl-0">undefined</span><span class="hl-1">)&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">((</span><span class="hl-3">resolve</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">:(</span><span class="hl-2">Song</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Album</span><span class="hl-1"> | </span><span class="hl-2">Genre</span><span class="hl-1"> | </span><span class="hl-2">Playlist</span><span class="hl-1"> | </span><span class="hl-2">undefined</span><span class="hl-1">) = </span><span class="hl-0">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">switch</span><span class="hl-1"> (</span><span class="hl-3">type</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">dummy</span><span class="hl-1"> = </span><span class="hl-0">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> === </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">dummy</span><span class="hl-1"> = </span><span class="hl-3">song</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">dummy</span><span class="hl-1"> = </span><span class="hl-0">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> === </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">dummy</span><span class="hl-1"> = </span><span class="hl-3">genre</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">dummy</span><span class="hl-1"> = </span><span class="hl-0">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> === </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">.</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">dummy</span><span class="hl-1"> = </span><span class="hl-3">artist</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">dummy</span><span class="hl-1"> = </span><span class="hl-0">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> === </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">dummy</span><span class="hl-1"> = </span><span class="hl-3">album</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">dummy</span><span class="hl-1"> = </span><span class="hl-0">undefined</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">item</span><span class="hl-1"> === </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">.</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">dummy</span><span class="hl-1"> = </span><span class="hl-3">group</span><span class="hl-1">;</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Siguiendo un razonamiento muy parecido al utilizado en la función getFromMemory(), en este caso una vez hayamos ubicado el elemento que buscamos realizaremos sobre el atributo que lo almacene un splice(). De esta forma, modificaremos la array almacenada por una versión casi idéntica a la anterior, ahora sin el elemento que queríamos borrar.</p>
<br>


<a href="#printmemory" id="printmemory" style="color: inherit; text-decoration: none;">
  <h3>printMemory()</h3>
</a>
<blockquote>
<p>Muestra por pantalla el contenido de la memoria</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">printMemory</span><span class="hl-1">(): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">output</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">playlists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">playlist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-3">output</span><span class="hl-1"> += </span><span class="hl-6">`</span><span class="hl-8">\x1b</span><span class="hl-6">[30mTotal:</span><span class="hl-8">\x1b</span><span class="hl-6">[0m</span><br/><span class="hl-6">    </span><span class="hl-8">\x1b</span><span class="hl-6">[32mNº Albums: </span><span class="hl-8">\x1b</span><span class="hl-6">[0m</span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">albums</span><span class="hl-7">.</span><span class="hl-3">length</span><span class="hl-0">}</span><br/><span class="hl-6">    </span><span class="hl-8">\x1b</span><span class="hl-6">[34mNº Artists: </span><span class="hl-8">\x1b</span><span class="hl-6">[0m</span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">artists</span><span class="hl-7">.</span><span class="hl-3">length</span><span class="hl-0">}</span><br/><span class="hl-6">    </span><span class="hl-8">\x1b</span><span class="hl-6">[33mNº Songs: </span><span class="hl-8">\x1b</span><span class="hl-6">[0m</span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">songs</span><span class="hl-7">.</span><span class="hl-3">length</span><span class="hl-0">}</span><br/><span class="hl-6">    </span><span class="hl-8">\x1b</span><span class="hl-6">[36mNº Groups: </span><span class="hl-8">\x1b</span><span class="hl-6">[0m</span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">groups</span><span class="hl-7">.</span><span class="hl-3">length</span><span class="hl-0">}</span><br/><span class="hl-6">    </span><span class="hl-8">\x1b</span><span class="hl-6">[35mNº Genres: </span><span class="hl-8">\x1b</span><span class="hl-6">[0m</span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">genres</span><span class="hl-7">.</span><span class="hl-3">length</span><span class="hl-0">}</span><br/><span class="hl-6">    </span><span class="hl-8">\x1b</span><span class="hl-6">[31mNº Playlists: </span><span class="hl-8">\x1b</span><span class="hl-6">[0m</span><span class="hl-0">${</span><span class="hl-0">this</span><span class="hl-7">.</span><span class="hl-3">playlists</span><span class="hl-7">.</span><span class="hl-3">length</span><span class="hl-0">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">output</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Intuitivamente, esta función hace un recorrido completo por todas y cada una de las arrays de la memoria (es decir, cada atributo de Database), e inserta en el ouput (string que contendrá el resultado total) cada resultado individual de la función print() de cada objeto. Es decir, recoge la información bien formateada de cada objeto de la memoria y lo reúne en una única string, que finalmente se muestra por pantalla.</p>
<br>


<a href="#printby" id="printby" style="color: inherit; text-decoration: none;">
  <h3>printBy()</h3>
</a>
<blockquote>
<p>Muestra por pantalla un contenido específico, de una forma específica</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">printBy</span><span class="hl-1">(</span><span class="hl-3">command</span><span class="hl-1">: </span><span class="hl-3">viewCommands</span><span class="hl-1">, </span><span class="hl-3">mode</span><span class="hl-1">: </span><span class="hl-3">orderByCommands</span><span class="hl-1">): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">&lt;</span><span class="hl-2">void</span><span class="hl-1">&gt;((</span><span class="hl-3">resolve</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-3">mode</span><span class="hl-1"> === orderByCommands.Ascendantly) {</span><br/><span class="hl-1">        </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">command</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalSong</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">().</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()));</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalAlbum</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">().</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()));</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">OnlySingles</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getSingle</span><span class="hl-1">() === </span><span class="hl-0">true</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">ReleaseDate</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getDate</span><span class="hl-1">().</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getDate</span><span class="hl-1">()));</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">ViewCount</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getPlays</span><span class="hl-1">() - </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getPlays</span><span class="hl-1">());</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    } </span><span class="hl-2">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">switch</span><span class="hl-1"> (</span><span class="hl-3">command</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalSong</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">().</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">())).</span><span class="hl-4">reverse</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalAlbum</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">().</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">())).</span><span class="hl-4">reverse</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">OnlySingles</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getSingle</span><span class="hl-1">() === </span><span class="hl-0">true</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">ReleaseDate</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getDate</span><span class="hl-1">().</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getDate</span><span class="hl-1">())).</span><span class="hl-4">reverse</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">ViewCount</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getPlays</span><span class="hl-1">() - </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getPlays</span><span class="hl-1">()).</span><span class="hl-4">reverse</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Esta función, a diferencia de printMemory(), solamente muestra por pantalla la información de la base de datos concretamente solicitada. Y no solo eso, sino que la muestra de una forma u otra según se le indique. Para esto usaremos la sencilla estructura de un switch, donde encajaremos el comando (<em>command</em>) recibido como argumento en alguno de los <em>case</em> mostrados. Para ello, se han establecido todos los comandos posibles en distintos sets <em>enum</em>.</p>
<p>🔗 <a href="./src/Commands.ts">Sets de comandos</a></p>
<br>


<a href="#printplaylistby" id="printplaylistby" style="color: inherit; text-decoration: none;">
  <h3>printPlaylistBy()</h3>
</a>
<blockquote>
<p>Muestra por pantalla el contenido de una playlist de una forma concreta</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">printPlaylistBy</span><span class="hl-1">(</span><span class="hl-3">command</span><span class="hl-1">: </span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">, </span><span class="hl-3">mode</span><span class="hl-1">: </span><span class="hl-3">orderByCommands</span><span class="hl-1">): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    let </span><span class="hl-3">playlist:</span><span class="hl-1"> </span><span class="hl-3">Playlist</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">playlists</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-2">void</span><span class="hl-1">&gt;((</span><span class="hl-3">resolve</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">mode</span><span class="hl-1"> === </span><span class="hl-3">orderByCommands</span><span class="hl-1">.</span><span class="hl-3">Ascendantly</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">command</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalSong</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">().</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()));</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalArtist</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">playlistSongs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">songsMap</span><span class="hl-1">: </span><span class="hl-2">Map</span><span class="hl-1">&lt;</span><span class="hl-2">Song</span><span class="hl-1">, </span><span class="hl-2">string</span><span class="hl-1">&gt; = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-2">Map</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-3">playlistSongs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">songsMap</span><span class="hl-1">.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">, </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getArtists</span><span class="hl-1">().</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            [...</span><span class="hl-3">songsMap</span><span class="hl-1">.</span><span class="hl-4">entries</span><span class="hl-1">()].</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">[</span><span class="hl-9">1</span><span class="hl-1">].</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">[</span><span class="hl-9">1</span><span class="hl-1">]));</span><br/><span class="hl-1">            </span><span class="hl-3">songsMap</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">ViewDuration</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getLength</span><span class="hl-1">() - </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getLength</span><span class="hl-1">());</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalGenre</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">().</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()));</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">ViewCount</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getPlays</span><span class="hl-1">() - </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getPlays</span><span class="hl-1">());</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">command</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalSong</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">().</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">())).</span><span class="hl-4">reverse</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalArtist</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">playlistSongs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">songsMap</span><span class="hl-1">: </span><span class="hl-2">Map</span><span class="hl-1">&lt;</span><span class="hl-2">Song</span><span class="hl-1">, </span><span class="hl-2">string</span><span class="hl-1">&gt; = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-2">Map</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-3">playlistSongs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">songsMap</span><span class="hl-1">.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">, </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getArtists</span><span class="hl-1">().</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            [...</span><span class="hl-3">songsMap</span><span class="hl-1">.</span><span class="hl-4">entries</span><span class="hl-1">()].</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">[</span><span class="hl-9">1</span><span class="hl-1">].</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">[</span><span class="hl-9">1</span><span class="hl-1">])).</span><span class="hl-4">reverse</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-3">songsMap</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">ViewDuration</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getLength</span><span class="hl-1">() - </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getLength</span><span class="hl-1">()).</span><span class="hl-4">reverse</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalGenre</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">().</span><span class="hl-4">localeCompare</span><span class="hl-1">(</span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">())).</span><span class="hl-4">reverse</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">ViewCount</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">sort</span><span class="hl-1">((</span><span class="hl-3">a</span><span class="hl-1">, </span><span class="hl-3">b</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">b</span><span class="hl-1">.</span><span class="hl-4">getPlays</span><span class="hl-1">() - </span><span class="hl-3">a</span><span class="hl-1">.</span><span class="hl-4">getPlays</span><span class="hl-1">()).</span><span class="hl-4">reverse</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">());</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>De la misma forma que la función printBy() escoge el formato de la salida por pantalla para mostrar información de la memoria, esta función lo hace para, más en concreto, ordenar y mostrar la información de una playlist.</p>
<p><br><br></p>
<hr>
<p><br><br></p>

<a href="#inmortalizando-la-base-de-datos-lowdb-y-json" id="inmortalizando-la-base-de-datos-lowdb-y-json" style="color: inherit; text-decoration: none;">
  <h1>Inmortalizando la Base de Datos: lowdb y JSON</h1>
</a>
<blockquote>
<p><em>“Without a systematic way to start and keep data clean, bad data will happen.”</em> ~ Daniel Donato Diorio</p>
</blockquote>
<p>Hasta ahora hemos explicado cómo funciona la base de datos en memoria. Ahora, es el momento de saber cómo enfrentarnos al momento en el que el usuario quiera almacenar esa información en un fichero que poder llevarse consigo o simplemente usarlo para una consulta completa de la base de datos entre ejecuciones. Para esto y para cargar, claro está, la información del fichero JSON en la memoria en el momento inicial. La encargada de conseguir esto será la clase JsonDatabase. </p>
<pre><code><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">JsonDatabase</span><span class="hl-1"> </span><span class="hl-0">extends</span><span class="hl-1"> </span><span class="hl-2">Database</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">initialized</span><span class="hl-1">: </span><span class="hl-2">boolean</span><span class="hl-1"> = </span><span class="hl-0">false</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">changesSaved</span><span class="hl-1">: </span><span class="hl-2">boolean</span><span class="hl-1"> = </span><span class="hl-0">true</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">dbName</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">&#39;none&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">database</span><span class="hl-1">?: </span><span class="hl-2">lowdb</span><span class="hl-1">.</span><span class="hl-2">LowdbSync</span><span class="hl-1">&lt;</span><span class="hl-2">schemaType</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">    </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-0">static</span><span class="hl-1"> </span><span class="hl-3">JsonDatabase</span><span class="hl-1">: </span><span class="hl-2">JsonDatabase</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-0">constructor</span><span class="hl-1">(</span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">dbDir</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-10">// Contenido del constructor</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">    ∥ </span><span class="hl-3">Funciones</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">}</span>
</code></pre>
<p>Como vemos, JsonDatabase extiende la funcionalidad de Database, hasta ahora solo capaz de manejarse en memoria, para lograr almacenar la información más allá de la ejecución del programa.</p>
<p>La clase tiene seis atributos. Expliquemos cada uno:</p>
<ul>
<li>initialized: boolean&emsp;⟶&emsp;Indica si la base de datos ya ha sido inicializada</li>
<li>changesSaved: boolean&emsp;⟶&emsp;Indica si se han grabado los cambios en la base de datos</li>
<li>dbName: string&emsp;⟶&emsp;Nombre de la base de datos</li>
<li>database?: lowdb.LowdbSync<schemaType>&emsp;⟶&emsp;Para instanciar la lowdb utilizaremos el <em>schema</em> declarado.</li>
<li>private database?: lowdb.LowdbSync<schemaType>&emsp;⟶&emsp;Instancia de lowdb con la estructura de nuestra base de datos musical</li>
<li>static JsonDatabase: JsonDatabase;&emsp;⟶&emsp;Para poder acceder a la clase en funciones de comprobación de inquirer, debemos trabajar con una clase singleton. Por esto creamos este atributo <em>static</em> y declaramos como privado el constructor.</li>
</ul>
<p>El <em>schema</em> declarado para instanciar la lowdb debe contar con la misma estructura que la base de datos:</p>
<pre><code><span class="hl-0">type</span><span class="hl-1"> </span><span class="hl-2">schemaType</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[],</span><br/><span class="hl-1">    </span><span class="hl-3">artists</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1">[],</span><br/><span class="hl-1">    </span><span class="hl-3">albums</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[],</span><br/><span class="hl-1">    </span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[],</span><br/><span class="hl-1">    </span><span class="hl-3">groups</span><span class="hl-1">: </span><span class="hl-2">Group</span><span class="hl-1">[],</span><br/><span class="hl-1">    </span><span class="hl-3">playlists</span><span class="hl-1">: </span><span class="hl-2">Playlist</span><span class="hl-1">[]</span><br/><span class="hl-1">}</span>
</code></pre>
<hr>

<a href="#funciones-de-la-clase-jsondatabase" id="funciones-de-la-clase-jsondatabase" style="color: inherit; text-decoration: none;">
  <h2>Funciones de la clase JsonDatabase</h2>
</a>

<a href="#constructor" id="constructor" style="color: inherit; text-decoration: none;">
  <h3>Constructor</h3>
</a>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">dbDir</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">super</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">dbDir</span><span class="hl-1"> != </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1"> = </span><span class="hl-4">lowdb</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">FileSync</span><span class="hl-1">(</span><span class="hl-3">dbDir</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">has</span><span class="hl-1">(</span><span class="hl-6">`genres`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">() &amp;&amp; !</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">has</span><span class="hl-1">(</span><span class="hl-6">`songs`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">() &amp;&amp;</span><br/><span class="hl-1">        !</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">has</span><span class="hl-1">(</span><span class="hl-6">`albums`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">() &amp;&amp; !</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">has</span><span class="hl-1">(</span><span class="hl-6">`groups`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">() &amp;&amp;</span><br/><span class="hl-1">        !</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">has</span><span class="hl-1">(</span><span class="hl-6">`artist`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">()) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`songs`</span><span class="hl-1">, []).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`albums`</span><span class="hl-1">, []).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`groups`</span><span class="hl-1">, []).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`artists`</span><span class="hl-1">, []).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`genres`</span><span class="hl-1">, []).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">initialized</span><span class="hl-1"> = </span><span class="hl-0">true</span><span class="hl-1">;</span><br/><span class="hl-1">    } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">read</span><span class="hl-1">();</span><br/><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">genres</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`genres`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Genre</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">, [], [], [])]);</span><br/><span class="hl-1">        });</span><br/><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">artists</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`artists`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">artists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">genresRef</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">, </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[];</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">newArtist</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Artist</span><span class="hl-1">(</span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">, [], </span><span class="hl-3">genresRef</span><span class="hl-1">, [], [], </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-3">listeners</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-3">newArtist</span><span class="hl-1">]);</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genresRef</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">setAuthors</span><span class="hl-1">(</span><span class="hl-3">newArtist</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        });</span><br/><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">groups</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`groups`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">groups</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">artistRef</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-3">members</span><span class="hl-1">, </span><span class="hl-6">&#39;artist&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">[];</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">genresRef</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">, </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[];</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">newGroup</span><span class="hl-1">: </span><span class="hl-2">Group</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Group</span><span class="hl-1">(</span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">, </span><span class="hl-3">artistRef</span><span class="hl-1">, </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-3">date</span><span class="hl-1">, </span><span class="hl-3">genresRef</span><span class="hl-1">, [], </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-3">listeners</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-3">newGroup</span><span class="hl-1">]);</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artistRef</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">artist</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">setGroups</span><span class="hl-1">(</span><span class="hl-3">newGroup</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genresRef</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">setAuthors</span><span class="hl-1">(</span><span class="hl-3">newGroup</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        });</span><br/><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">songs</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`songs`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">artistOrGroupRef</span><span class="hl-1">: (</span><span class="hl-2">Artist</span><span class="hl-1">| </span><span class="hl-2">Group</span><span class="hl-1">) = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">, </span><span class="hl-6">&#39;author&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> (</span><span class="hl-2">Artist</span><span class="hl-1">| </span><span class="hl-2">Group</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">genresRef</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">, </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[];</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">newSong</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Song</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">, </span><span class="hl-3">artistOrGroupRef</span><span class="hl-1">, </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">length</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">genresRef</span><span class="hl-1">, </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">plays</span><span class="hl-1">, </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">isSingle</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-3">newSong</span><span class="hl-1">]);</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artistOrGroupRef</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artistOrGroupRef</span><span class="hl-1"> == </span><span class="hl-3">artist</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-3">newSong</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genresRef</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-3">newSong</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        });</span><br/><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">albums</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`albums`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">authorRef</span><span class="hl-1">: (</span><span class="hl-2">Artist</span><span class="hl-1">| </span><span class="hl-2">Group</span><span class="hl-1">) = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-3">author</span><span class="hl-1">, </span><span class="hl-6">&#39;author&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> (</span><span class="hl-2">Artist</span><span class="hl-1">| </span><span class="hl-2">Group</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">genresRef</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">, </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[];</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">songsRef</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">, </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[];</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">newAlbum</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Album</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">, </span><span class="hl-3">authorRef</span><span class="hl-1">, </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-3">date</span><span class="hl-1">, </span><span class="hl-3">genresRef</span><span class="hl-1">, </span><span class="hl-3">songsRef</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-3">newAlbum</span><span class="hl-1">]);</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">authorRef</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">authorRef</span><span class="hl-1"> == </span><span class="hl-3">artist</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">setAlbums</span><span class="hl-1">(</span><span class="hl-3">newAlbum</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">authorRef</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Group</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">authorRef</span><span class="hl-1"> == </span><span class="hl-3">group</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">setAlbums</span><span class="hl-1">(</span><span class="hl-3">newAlbum</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genresRef</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">)) {</span><br/><span class="hl-1">            </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">setAlbums</span><span class="hl-1">(</span><span class="hl-3">newAlbum</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        });</span><br/><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">playlists</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`playlists`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">playlists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">playlist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">songsRef</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">, </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[];</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">genresRef</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">, </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[];</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">newPlaylist</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Playlist</span><span class="hl-1">(</span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">, </span><span class="hl-3">songsRef</span><span class="hl-1">, </span><span class="hl-3">playlist</span><span class="hl-1">.</span><span class="hl-3">duration</span><span class="hl-1">, </span><span class="hl-3">genresRef</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">dbPlaylists</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">newPlaylist</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-3">newPlaylist</span><span class="hl-1">]);</span><br/><span class="hl-1">        });</span><br/><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">initialized</span><span class="hl-1"> = </span><span class="hl-0">true</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">initialized</span><span class="hl-1"> = </span><span class="hl-0">false</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Este es el constructor de la clase JsonDatabase. A la hora de cargar la información del fichero JSON en memoria, se seguirá el orden de instancias que explicamos previamente (para evitar los conflictos de dependencias entre clases), y así iremos almacenando uno por uno los distintos tipos de elementos. Para hacerlo, usaremos la función de búsqueda que hemos desarrollado para encontrar y vincular aquellos objetos a partir del nombre del mismo. </p>
<p>Para hacerlo más claro, un ejemplo:</p>
<p>Si queremos almacenar en memoria una canción y su artista autor, acudiendo a su información reflejada en el JSON, sabemos que existirá una entrada tanto para la canción como para el artista. Por lo tanto, podremos crear primero el artista (cargando sus atributos según nos indica el orden de instancia) y luego crear la canción de la misma manera. Y, al crear la canción, ¿qué artista de todos los que hemos generado colocamos como su autor? Pues buscamos al artista cuyo atributo <em>name</em> contenga el mismo valor que el indicado en el <em>name</em> de la entrada de la canción en el JSON.</p>
<br>


<a href="#getjsondatabaseinstance" id="getjsondatabaseinstance" style="color: inherit; text-decoration: none;">
  <h3>getJsonDatabaseInstance()</h3>
</a>
<blockquote>
<p>Método para obtener la instancia única de la clase (clase singleton)</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">static</span><span class="hl-1"> </span><span class="hl-4">getJsonDatabaseInstance</span><span class="hl-1">(</span><span class="hl-3">dbDir</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">): </span><span class="hl-3">JsonDatabase</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1"> || </span><span class="hl-3">dbDir</span><span class="hl-1"> !== </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">JsonDatabase</span><span class="hl-1">(</span><span class="hl-3">dbDir</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<br>


<a href="#setinitialized" id="setinitialized" style="color: inherit; text-decoration: none;">
  <h3>setInitialized()</h3>
</a>
<blockquote>
<p>Marca la base de datos como inicializada</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setInitialized</span><span class="hl-1">(</span><span class="hl-3">value</span><span class="hl-1">: </span><span class="hl-3">boolean</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">initialized</span><span class="hl-1"> = </span><span class="hl-3">value</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<br>


<a href="#isinitialized" id="isinitialized" style="color: inherit; text-decoration: none;">
  <h3>isInitialized()</h3>
</a>
<blockquote>
<p>Indica si la base de datos está inicializada o no</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">isInitialized</span><span class="hl-1">(): </span><span class="hl-3">boolean</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">initialized</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<br>


<a href="#setter-de-changessaved" id="setter-de-changessaved" style="color: inherit; text-decoration: none;">
  <h3>setter de changesSaved</h3>
</a>
<blockquote>
<p>Marca si se se han guardado los cambios en la base de datos o no</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">setChangesSaved</span><span class="hl-1">(</span><span class="hl-3">value</span><span class="hl-1">: </span><span class="hl-3">boolean</span><span class="hl-1">): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">changesSaved</span><span class="hl-1"> = </span><span class="hl-3">value</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-changessaved" id="getter-de-changessaved" style="color: inherit; text-decoration: none;">
  <h3>getter de changesSaved</h3>
</a>
<blockquote>
<p>Devuelve si la base de datos está al día con todos los cambios realizados</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">areChangesSaved</span><span class="hl-1">(): </span><span class="hl-3">boolean</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">changesSaved</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#getter-de-dbname" id="getter-de-dbname" style="color: inherit; text-decoration: none;">
  <h3>getter de dbName</h3>
</a>
<blockquote>
<p>Devuelve el nombre de la base de datos</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">getDatabaseName</span><span class="hl-1">():</span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">dbName</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#savefrommemtodb" id="savefrommemtodb" style="color: inherit; text-decoration: none;">
  <h3>saveFromMemToDb()</h3>
</a>
<blockquote>
<p>Guarda la información de la memoria en el fichero JSON</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">saveFromMemToDb</span><span class="hl-1">(): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-3">unknown</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">((</span><span class="hl-3">resolve</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-3">genresNames</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-3">artistsNames</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-3">albumsNames</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-3">songsNames</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-3">groupsNames</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-3">authorsNames</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (JsonDatabase.JsonDatabase.isInitialized()) {</span><br/><span class="hl-1">        </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummySongs</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-10">//          SAVE SONG</span><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">item</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">genresNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">genresNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">objectSong</span><span class="hl-1">: {</span><br/><span class="hl-1">            </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">artists</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">length</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">plays</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">isSingle</span><span class="hl-1">: </span><span class="hl-2">boolean</span><span class="hl-1">,</span><br/><span class="hl-1">        } = {</span><br/><span class="hl-1">            </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">artists:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">length:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getLength</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">genres:</span><span class="hl-1"> </span><span class="hl-3">genresNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">plays:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getPlays</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">isSingle:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getSingle</span><span class="hl-1">(),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-3">dummySongs</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">objectSong</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`songs`</span><span class="hl-1">, </span><span class="hl-3">dummySongs</span><span class="hl-1">).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-10">//          SAVE ALBUMS</span><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummyAlbums</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">albums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">item</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">genresNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">genresNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">songsNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">songsNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">objectAlbum</span><span class="hl-1">: {</span><br/><span class="hl-1">            </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">author</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">date</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[]</span><br/><span class="hl-1">        } = {</span><br/><span class="hl-1">            </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">author:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getAuthor</span><span class="hl-1">().</span><span class="hl-4">getName</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">date:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getDate</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">genres:</span><span class="hl-1"> </span><span class="hl-3">genresNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">songs:</span><span class="hl-1"> </span><span class="hl-3">songsNames</span><span class="hl-1">,</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-3">dummyAlbums</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">objectAlbum</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`albums`</span><span class="hl-1">, </span><span class="hl-3">dummyAlbums</span><span class="hl-1">).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-10">//          SAVE GROUPS</span><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummyGroups</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">groups</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">item</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">genresNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">genresNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">artistsNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getMembers</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">artistsNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">albumsNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">albumsNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">objetoGroup</span><span class="hl-1">: {</span><br/><span class="hl-1">            </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">members</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">date</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">albums</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">listeners</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">        } = {</span><br/><span class="hl-1">            </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">members:</span><span class="hl-1"> </span><span class="hl-3">artistsNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">date:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getDate</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">genres:</span><span class="hl-1"> </span><span class="hl-3">genresNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">albums:</span><span class="hl-1"> </span><span class="hl-3">albumsNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">listeners:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getListeners</span><span class="hl-1">(),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-3">dummyGroups</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">objetoGroup</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Groups&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`groups`</span><span class="hl-1">, </span><span class="hl-3">dummyGroups</span><span class="hl-1">).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-10">//          SAVE ARTISTS</span><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummyArtists</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">artists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">item</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">groupsNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">genresNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">albumsNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">songsNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getGroups</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">groupsNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">genresNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">            </span><span class="hl-3">albumsNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">songsNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">objectArtist</span><span class="hl-1">: {</span><br/><span class="hl-1">            </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">groups</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">albums</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">listeners</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">        } = {</span><br/><span class="hl-1">            </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">groups:</span><span class="hl-1"> </span><span class="hl-3">groupsNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">genres:</span><span class="hl-1"> </span><span class="hl-3">genresNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">albums:</span><span class="hl-1"> </span><span class="hl-3">albumsNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">songs:</span><span class="hl-1"> </span><span class="hl-3">songsNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">listeners:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getListeners</span><span class="hl-1">(),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-3">dummyArtists</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">objectArtist</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;ARTISTS&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`artists`</span><span class="hl-1">, </span><span class="hl-3">dummyArtists</span><span class="hl-1">).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-10">//          SAVE GENRES</span><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummyGenre</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">genres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">item</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">authorsNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">songsNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">albumsNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">songsNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">author</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">authorsNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">author</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">albumsNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">objetoGenre</span><span class="hl-1">: {</span><br/><span class="hl-1">            </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">authors</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">albums</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">        } = {</span><br/><span class="hl-1">            </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">authors:</span><span class="hl-1"> </span><span class="hl-3">authorsNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">albums:</span><span class="hl-1"> </span><span class="hl-3">albumsNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">songs:</span><span class="hl-1"> </span><span class="hl-3">songsNames</span><span class="hl-1">,</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-3">dummyGenre</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">objetoGenre</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`genres`</span><span class="hl-1">, </span><span class="hl-3">dummyGenre</span><span class="hl-1">).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-10">//          SAVE PLAYLISTS</span><br/><span class="hl-1">        </span><span class="hl-10">//</span><br/><span class="hl-1">        </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummyPlaylist</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">playlists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">item</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">genresNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">genresNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">songsNames</span><span class="hl-1"> = [];</span><br/><span class="hl-1">        </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">songsNames</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">ObjectPlaylist</span><span class="hl-1">: {</span><br/><span class="hl-1">            </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">            </span><span class="hl-3">duration</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">genres</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[],</span><br/><span class="hl-1">        } = {</span><br/><span class="hl-1">            </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">songs:</span><span class="hl-1"> </span><span class="hl-3">songsNames</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-3">duration:</span><span class="hl-1"> </span><span class="hl-3">item</span><span class="hl-1">.</span><span class="hl-4">getDuration</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-3">genres:</span><span class="hl-1"> </span><span class="hl-3">genresNames</span><span class="hl-1">,</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-3">dummyPlaylist</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">ObjectPlaylist</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`playlists`</span><span class="hl-1">, </span><span class="hl-3">dummyPlaylist</span><span class="hl-1">).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">initialized</span><span class="hl-1"> = </span><span class="hl-0">true</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-6">&#39;good&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-2">else</span><span class="hl-1"> </span><span class="hl-2">throw</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Error</span><span class="hl-1">(</span><span class="hl-6">&#39;No database loaded&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Esta sería la función clave de este apartado, el eje en torno al que gira todo. Con ella, podemos al fin guardar aquello que el usuario ha realizado en memoria y dejarlo inmortalizado en el fichero JSON, la base de datos tangible. </p>
<p>Pero, ¿cómo se hace? </p>
<p>Para cada elemento que queramos almacenar en la base de datos, lo que haremos será crear un nuevo objeto con su misma forma, y le insertaremos en cada uno de los atributos los mismos valores que tenía el objeto original (esto es así porque necesitamos trabajar con [Object] para evitar errores de tipo). Una vez hecho este objeto clon, lo insertamos al array &#39;dummy&#39; de su respectivo elemento (dummySong, dummyArtist, dummyGenre, etc.) y finalmente los escribimos en la base de datos mediante la función write().</p>
<br>


<a href="#purgedatabase" id="purgedatabase" style="color: inherit; text-decoration: none;">
  <h3>purgeDatabase()</h3>
</a>
<blockquote>
<p>Vacía toda la información de la base de datos</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">purgeDatabase</span><span class="hl-1">(): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-3">unknown</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">((</span><span class="hl-3">resolve</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (JsonDatabase.JsonDatabase.isInitialized()) {</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`songs`</span><span class="hl-1">, []).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`albums`</span><span class="hl-1">, []).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`groups`</span><span class="hl-1">, []).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`artists`</span><span class="hl-1">, []).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`genres`</span><span class="hl-1">, []).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-6">`playlists`</span><span class="hl-1">, []).</span><span class="hl-4">write</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-6">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-2">else</span><span class="hl-1"> </span><span class="hl-2">throw</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Error</span><span class="hl-1">(</span><span class="hl-6">&#39;No database loaded&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Esta función sobreescribe en cada tipo de elemento de la base de datos un array vacío, consiguiendo así vaciar por completo la información.</p>
<br>


<a href="#print-6" id="print-6" style="color: inherit; text-decoration: none;">
  <h3>print()</h3>
</a>
<blockquote>
<p>Muestra por pantalla la información de la base de datos</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">print</span><span class="hl-1">(): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-3">unknown</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  return new </span><span class="hl-4">Promise</span><span class="hl-1">((</span><span class="hl-3">resolve</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (JsonDatabase.JsonDatabase.isInitialized()) {</span><br/><span class="hl-1">      </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">read</span><span class="hl-1">();</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`albums`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`artist`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`songs`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`groups`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`genres`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">?.</span><span class="hl-4">get</span><span class="hl-1">(</span><span class="hl-6">`playlists`</span><span class="hl-1">).</span><span class="hl-4">value</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-6">&#39;&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-2">else</span><span class="hl-1"> </span><span class="hl-2">throw</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Error</span><span class="hl-1">(</span><span class="hl-6">&#39;No database loaded&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Realiza un console.log() al valor de cada tipo de elemento de la base de datos, es decir, muestra por pantalla la array de objetos que contiene.</p>
<p><br><br></p>
<hr>
<p><br><br></p>

<a href="#terminal-dándole-el-control-al-usuario" id="terminal-dándole-el-control-al-usuario" style="color: inherit; text-decoration: none;">
  <h1>Terminal: Dándole el control al usuario</h1>
</a>
<blockquote>
<p><em>“Design isn’t finished until somebody is using it.”</em> ~ Brenda Laurel</p>
</blockquote>
<p>Hemos diseñado los planos, reunido todos los materiales y construido desde los cimientos hasta el techo, pero falta una última cosa: abrir las puertas y ventanas. Necesitamos una forma de ofrecerle al usuario el acceso a las herramientas que hemos elaborado, para que pueda cargar, manejar y guardar nueva información en una base de datos musical.</p>
<p>Para ello, usaremos inquirer, un paquete de npm que facilita la recepción de inputs a través de la consola. Con él, conseguiremos que el usuario pueda navegar entre todas y cada una de las opciones que ofrece nuestro programa, logrando una experiencia cerrada desde que inicie el sistema hasta que cierre la sesión, pudiendo por el camino haber guardado sus cambios en la base de datos (fichero JSON) o simplemente habiendo trabajado en memoria para realizar consultas.</p>
<p>Presentamos así la <strong>clase Management.</strong></p>

<a href="#clase-management" id="clase-management" style="color: inherit; text-decoration: none;">
  <h2>Clase Management</h2>
</a>
<pre><code><span class="hl-0">class</span><span class="hl-1"> </span><span class="hl-2">Management</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">database</span><span class="hl-1">: </span><span class="hl-2">JsonDatabase</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-0">constructor</span><span class="hl-1">(</span><span class="hl-0">private</span><span class="hl-1"> </span><span class="hl-3">dbDir</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1"> = </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-4">getJsonDatabaseInstance</span><span class="hl-1">(</span><span class="hl-3">dbDir</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">    ∥ </span><span class="hl-3">Funciones</span><br/><span class="hl-1">    ∥ </span><br/><span class="hl-1">}</span>
</code></pre>
<p>Contiene dos atributos, la base de datos con la que el usuario trabajará [database] y una string cuyo valor será la dirección de la misma [dbDir] (el directorio donde se ubique el fichero JSON). En el constructor se hará uso del getter de instancia única de la clase JsonDatabase, pasándole como argumento la dirección del fichero para que este llegue a inicializar la lowdb.</p>

<a href="#funciones" id="funciones" style="color: inherit; text-decoration: none;">
  <h2>Funciones</h2>
</a>
<br>


<a href="#loaddatabase" id="loaddatabase" style="color: inherit; text-decoration: none;">
  <h3>loadDatabase()</h3>
</a>
<blockquote>
<p>Carga la base de datos</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-4">loadDatabase</span><span class="hl-1">(</span><span class="hl-3">dbDir</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-3">JsonDatabase</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">((</span><span class="hl-3">resolve</span><span class="hl-1">, </span><span class="hl-3">reject</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-3">dbDir</span><span class="hl-1"> = </span><span class="hl-3">dbDir</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1"> = </span><span class="hl-3">JsonDatabase</span><span class="hl-1">.</span><span class="hl-4">getJsonDatabaseInstance</span><span class="hl-1">(</span><span class="hl-3">dbDir</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-2">database</span><span class="hl-1">.</span><span class="hl-2">setInitialized</span><span class="hl-1">(</span><span class="hl-2">true</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">(this.database);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Esta función sirve para realziar &quot;manualmente&quot; lo que se haría de forma automática en el constructor. Además, marca la base de datos como inicializada a través del método <em>setInitialized()</em> de la clase JsonDatabase.</p>
<br>


<a href="#getter-de-database" id="getter-de-database" style="color: inherit; text-decoration: none;">
  <h3>Getter de database</h3>
</a>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-4">getDatabase</span><span class="hl-1">(): </span><span class="hl-3">JsonDatabase</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<br>


<a href="#orderbyprompt" id="orderbyprompt" style="color: inherit; text-decoration: none;">
  <h3>orderByPrompt()</h3>
</a>
<blockquote>
<p>Prompt de comandos para ordenar los elementos de una forma específica</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-4">orderByPrompt</span><span class="hl-1">(</span><span class="hl-3">commands</span><span class="hl-1">: </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewCommands</span><span class="hl-1"> | </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">, </span><span class="hl-3">type</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">((</span><span class="hl-3">resolve</span><span class="hl-1">, </span><span class="hl-3">reject</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">inquirer</span><span class="hl-1">.</span><span class="hl-2">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-3">type</span><span class="hl-1">: </span><span class="hl-6">&#39;list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">message</span><span class="hl-1">: </span><span class="hl-6">&#39;Choose option&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">choices</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1">.</span><span class="hl-2">values</span><span class="hl-1">(</span><span class="hl-2">command</span><span class="hl-1">.</span><span class="hl-2">orderByCommands</span><span class="hl-1">),</span><br/><span class="hl-1">    }).</span><span class="hl-2">then</span><span class="hl-1">(</span><span class="hl-2">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">switch</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">orderByCommands</span><span class="hl-1">.</span><span class="hl-3">Ascendantly</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">type</span><span class="hl-1"> === </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">printPlaylistBy</span><span class="hl-1">(</span><span class="hl-3">commands</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">command</span><span class="hl-1">.</span><span class="hl-2">viewPlaylistCommands</span><span class="hl-1">, </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptViewPlaylist</span><span class="hl-1">();</span><br/><span class="hl-1">            } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">printBy</span><span class="hl-1">(</span><span class="hl-3">commands</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">command</span><span class="hl-1">.</span><span class="hl-2">viewCommands</span><span class="hl-1">, </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptView</span><span class="hl-1">();</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">orderByCommands</span><span class="hl-1">.</span><span class="hl-3">Descendingly</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">type</span><span class="hl-1"> === </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">printPlaylistBy</span><span class="hl-1">(</span><span class="hl-3">commands</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">command</span><span class="hl-1">.</span><span class="hl-2">viewPlaylistCommands</span><span class="hl-1">, </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptViewPlaylist</span><span class="hl-1">();</span><br/><span class="hl-1">            } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">printBy</span><span class="hl-1">(</span><span class="hl-3">commands</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">command</span><span class="hl-1">.</span><span class="hl-2">viewCommands</span><span class="hl-1">, </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptView</span><span class="hl-1">();</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">orderByCommands</span><span class="hl-1">.</span><span class="hl-3">Return</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">type</span><span class="hl-1"> === </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptViewPlaylist</span><span class="hl-1">();</span><br/><span class="hl-1">            } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptView</span><span class="hl-1">();</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Esta función sirve para canalizar las funciones printBy() y pintPlaylistBy() según corresponda, sirviendo para ser llamada en cada opción al desplegar el menú con todas las posibilidades. Además de redirigir los comandos a las respectivas funciones printBy, esta función se encarga de manejar el prompt posterior a la operación, permitiendo continuar navegando al usuario por las opciones del sistema.</p>
<br>


<a href="#promptviewplaylist" id="promptviewplaylist" style="color: inherit; text-decoration: none;">
  <h3>promptViewPlaylist()</h3>
</a>
<blockquote>
<p>Despliega el menú para ordenar el contenido de una playlist de una forma específica</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-4">promptViewPlaylist</span><span class="hl-1">(): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Choose option&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">choices:</span><span class="hl-1"> </span><span class="hl-2">Object</span><span class="hl-1">.</span><span class="hl-4">values</span><span class="hl-1">(</span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">),</span><br/><span class="hl-1">    }).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalSong</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">orderByPrompt</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalArtist</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">orderByPrompt</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalGenre</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">orderByPrompt</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">ViewCount</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">orderByPrompt</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">ViewDuration</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">orderByPrompt</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewPlaylistCommands</span><span class="hl-1">.</span><span class="hl-3">Return</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptPlaylist</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">default</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Missing &#39;</span><span class="hl-1"> + </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#promptplaylist" id="promptplaylist" style="color: inherit; text-decoration: none;">
  <h3>promptPlaylist()</h3>
</a>
<blockquote>
<p>Prompt para ver o gestionar una playlist</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-4">promptPlaylist</span><span class="hl-1">(): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Choose option&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">choices:</span><span class="hl-1"> </span><span class="hl-2">Object</span><span class="hl-1">.</span><span class="hl-4">values</span><span class="hl-1">(</span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">playlistCommands</span><span class="hl-1">),</span><br/><span class="hl-1">    }).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">playlistCommands</span><span class="hl-1">.</span><span class="hl-3">View</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptViewPlaylist</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">playlistCommands</span><span class="hl-1">.</span><span class="hl-3">Management</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptPlaylistManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">playlistCommands</span><span class="hl-1">.</span><span class="hl-3">Return</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptStart</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">default</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Missing &#39;</span><span class="hl-1"> + </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#promptview" id="promptview" style="color: inherit; text-decoration: none;">
  <h3>promptView()</h3>
</a>
<blockquote>
<p>Prompt para ordenar el contenido de la base de datos de una forma u otra.</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-4">promptView</span><span class="hl-1">(): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Choose option&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">choices:</span><span class="hl-1"> </span><span class="hl-2">Object</span><span class="hl-1">.</span><span class="hl-4">values</span><span class="hl-1">(</span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewCommands</span><span class="hl-1">),</span><br/><span class="hl-1">    }).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalSong</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">orderByPrompt</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;all&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">AlphabeticalAlbum</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">orderByPrompt</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;all&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">ReleaseDate</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">orderByPrompt</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;all&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">ViewCount</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">orderByPrompt</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;all&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">OnlySingles</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">orderByPrompt</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;all&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">viewCommands</span><span class="hl-1">.</span><span class="hl-3">Return</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptStart</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">default</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Missing &#39;</span><span class="hl-1"> + </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<br>


<a href="#getstatusstring" id="getstatusstring" style="color: inherit; text-decoration: none;">
  <h3>getStatusString()</h3>
</a>
<blockquote>
<p>Informa sobre si la base de datos está actualizada con respecto a los cambios realizados en memoria.</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-4">getStatusString</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">statusString</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">areChangesSaved</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-3">statusString</span><span class="hl-1"> += </span><span class="hl-6">&#39;DB-UP2DATE: &#39;</span><span class="hl-1"> + </span><span class="hl-6">&#39;</span><span class="hl-8">\x1b</span><span class="hl-6">[31m&#39;</span><span class="hl-1"> + </span><span class="hl-6">&#39;■ </span><span class="hl-8">\x1b</span><span class="hl-6">[0m&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">statusString</span><span class="hl-1"> += </span><span class="hl-6">&#39;DB-UP2DATE: &#39;</span><span class="hl-1"> + </span><span class="hl-6">&#39;</span><span class="hl-8">\x1b</span><span class="hl-6">[32m&#39;</span><span class="hl-1"> + </span><span class="hl-6">&#39;■ </span><span class="hl-8">\x1b</span><span class="hl-6">[0m&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">isInitialized</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-3">statusString</span><span class="hl-1"> = </span><span class="hl-6">&#39;DB-CHANGES: &#39;</span><span class="hl-1"> + </span><span class="hl-6">&#39;</span><span class="hl-8">\x1b</span><span class="hl-6">[31m&#39;</span><span class="hl-1"> + </span><span class="hl-6">&#39;■ </span><span class="hl-8">\x1b</span><span class="hl-6">[0m&#39;</span><span class="hl-1"> + </span><span class="hl-6">&#39;DB-LOADED: &#39;</span><span class="hl-1"> + </span><span class="hl-6">&#39;</span><span class="hl-8">\x1b</span><span class="hl-6">[31m&#39;</span><span class="hl-1"> + </span><span class="hl-6">&#39;■ </span><span class="hl-8">\x1b</span><span class="hl-6">[0m&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">statusString</span><span class="hl-1"> += </span><span class="hl-6">&#39;DB-LOADED (&#39;</span><span class="hl-1">+ (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getDatabaseName</span><span class="hl-1">()) + </span><span class="hl-6">&#39;) </span><span class="hl-8">\x1b</span><span class="hl-6">[32m&#39;</span><span class="hl-1"> + </span><span class="hl-6">&#39;■ </span><span class="hl-8">\x1b</span><span class="hl-6">[0m&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-3">statusString</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Con esta sencilla función podremos avisar en lo alto del prompt si la base de datos está actualizada, o si por el contrario se han realizado cambios en la memoria que no han sido guardados aún.</p>
<br>


<a href="#promptstart" id="promptstart" style="color: inherit; text-decoration: none;">
  <h3>promptStart()</h3>
</a>
<blockquote>
<p>Comandos iniciales del sistema</p>
</blockquote>
<pre><code><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-4">promptStart</span><span class="hl-1">(): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Choose option&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">choices:</span><span class="hl-1"> </span><span class="hl-2">Object</span><span class="hl-1">.</span><span class="hl-4">values</span><span class="hl-1">(</span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">startCommands</span><span class="hl-1">),</span><br/><span class="hl-1">    }).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">startCommands</span><span class="hl-1">.</span><span class="hl-3">View</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptView</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">startCommands</span><span class="hl-1">.</span><span class="hl-3">Playlist</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptPlaylist</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">startCommands</span><span class="hl-1">.</span><span class="hl-3">Management</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">startCommands</span><span class="hl-1">.</span><span class="hl-3">Exit</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">process</span><span class="hl-1">.</span><span class="hl-4">exit</span><span class="hl-1">(</span><span class="hl-9">0</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">default</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Missing &#39;</span><span class="hl-1"> + </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Esta función hace que se muestren por consola las tres opciones principales al ejecutar el programa:</p>
<ul>
<li><strong>View</strong>&emsp;⟶&emsp;Ver el contenido de la base de datos</li>
<li><strong>Playlist</strong>&emsp;⟶&emsp;Accede al prompt que permite ver y manejar las playlists</li>
<li><strong>Management</strong>&emsp;⟶&emsp;Menú de gestión (añadir, cambiar, eliminar...)</li>
</ul>
<br>


<a href="#continueprompt" id="continueprompt" style="color: inherit; text-decoration: none;">
  <h3>continuePrompt()</h3>
</a>
<blockquote>
<p>Reanuda el prompt luego de terminar cualquier operación</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-4">continuePrompt</span><span class="hl-1">(): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">(</span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-3">resolve</span><span class="hl-1">, </span><span class="hl-3">reject</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-2">inquirer</span><span class="hl-1">.</span><span class="hl-2">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-6">&#39;continue&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">type</span><span class="hl-1">: </span><span class="hl-6">&#39;confirm&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">message</span><span class="hl-1">: </span><span class="hl-6">&#39;Press enter to continue...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    }).</span><span class="hl-2">then</span><span class="hl-1">(</span><span class="hl-2">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<br>


<a href="#loaddbprompt" id="loaddbprompt" style="color: inherit; text-decoration: none;">
  <h3>loadDbPrompt()</h3>
</a>
<blockquote>
<p>Prompt para cargar la base de datos</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-4">loadDbPrompt</span><span class="hl-1">(): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">(</span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-3">resolve</span><span class="hl-1">, </span><span class="hl-3">reject</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">clear</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-2">inquirer</span><span class="hl-1">.</span><span class="hl-2">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-3">type</span><span class="hl-1">: </span><span class="hl-6">&#39;input&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-6">&#39;dbDir&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">message</span><span class="hl-1">: </span><span class="hl-6">&#39;Write the .json database directory&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        }).</span><span class="hl-2">then</span><span class="hl-1">(</span><span class="hl-2">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-2">loadDatabase</span><span class="hl-1">(</span><span class="hl-2">answers</span><span class="hl-1">.</span><span class="hl-2">dbDir</span><span class="hl-1"> </span><span class="hl-2">as</span><span class="hl-1"> </span><span class="hl-2">string</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-2">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Se solicita al usuario la dirección del fichero .json donde se encuentre la base de datos para así poder ubicarlo y cargarlo en memoria.</p>
<br>


<a href="#selecttypeprompt" id="selecttypeprompt" style="color: inherit; text-decoration: none;">
  <h3>selectTypePrompt()</h3>
</a>
<blockquote>
<p>Menú para escoger con qué tipo de elemento se quiere trabajar</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-4">selectTypePrompt</span><span class="hl-1">(): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-3">any</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    return new </span><span class="hl-4">Promise</span><span class="hl-1">(</span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-3">resolve</span><span class="hl-1">, </span><span class="hl-3">reject</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-3">result</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-2">inquirer</span><span class="hl-1">.</span><span class="hl-2">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-3">type</span><span class="hl-1">: </span><span class="hl-6">&#39;list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">name</span><span class="hl-1">: </span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">message</span><span class="hl-1">: </span><span class="hl-6">&#39;Select what item do you want to operate with&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-3">choices</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1">.</span><span class="hl-2">values</span><span class="hl-1">(</span><span class="hl-2">command</span><span class="hl-1">.</span><span class="hl-2">typeCommands</span><span class="hl-1">),</span><br/><span class="hl-1">    }).</span><span class="hl-2">then</span><span class="hl-1">(</span><span class="hl-2">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">switch</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">typeCommands</span><span class="hl-1">.</span><span class="hl-3">Song</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">result</span><span class="hl-1"> = </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">typeCommands</span><span class="hl-1">.</span><span class="hl-3">Album</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">result</span><span class="hl-1"> = </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">typeCommands</span><span class="hl-1">.</span><span class="hl-3">Genre</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">result</span><span class="hl-1"> = </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">typeCommands</span><span class="hl-1">.</span><span class="hl-3">Artist</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">result</span><span class="hl-1"> = </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">typeCommands</span><span class="hl-1">.</span><span class="hl-3">Group</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">result</span><span class="hl-1"> = </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">typeCommands</span><span class="hl-1">.</span><span class="hl-3">Return</span><span class="hl-1">:</span><br/><span class="hl-1">            </span><span class="hl-3">result</span><span class="hl-1"> = </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-3">result</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Antes de poder añadir una canción a algún artista, o un miembro a un grupo, el programa te pregunta lo más básico: ¿sobre qué tipo de elemento vamos a trabajar? Aquí, es donde el usuario indica si quiere navegar por las opciones de edición, adición o eliminación de alguna canción, album, género, artista o grupo.</p>
<br>


<a href="#addprompt" id="addprompt" style="color: inherit; text-decoration: none;">
  <h3>addPrompt()</h3>
</a>
<blockquote>
<p>Prompt para añadir un nuevo elemento en la base de datos</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-4">addPrompt</span><span class="hl-1">(</span><span class="hl-3">command</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    const </span><span class="hl-3">qName:</span><span class="hl-1"> </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;input&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the name/title&#39;</span><span class="hl-1">, </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">noEmptyOption</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qArtist</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the artist name or group&#39;</span><span class="hl-1">, </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">noEmptyChoice</span><span class="hl-1">, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qMember</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;members&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the members of the group&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qLength</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;input&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;length&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the length&#39;</span><span class="hl-1">, </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">noEmptyOption</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qGenres</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedGenre&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the genre&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qReleaseDate</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;input&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;date&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the release date&#39;</span><span class="hl-1">, </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">noEmptyOption</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qSongs</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;songs&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the songs that are part of this item&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qAlbums</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;albums&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the albums that this item is part of&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qListeners</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;input&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;listeners&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the ammount of listeners of this artist&#39;</span><span class="hl-1">, </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">noEmptyOption</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qPlays</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;input&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;plays&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the number of plays&#39;</span><span class="hl-1">, </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">noEmptyOption</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qSingle</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;isSingle&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;confirm&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;It is a single?&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">songQuestions</span><span class="hl-1"> = [</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qArtist</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">qLength</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qPlays</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qSingle</span><span class="hl-1">];</span><br/><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-2">Promise</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">resolve</span><span class="hl-1">, </span><span class="hl-3">reject</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Adding &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39;</span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">command</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">songQuestions</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">inputs</span><span class="hl-1">: {</span><span class="hl-3">selectedGenre</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-3">inputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qGenres</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedArtist</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;author&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedGenres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">inputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-3">selectedGenre</span><span class="hl-1">, </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">newSong</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Song</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">], </span><span class="hl-3">selectedArtist</span><span class="hl-1">, </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;length&#39;</span><span class="hl-1">], </span><span class="hl-3">selectedGenres</span><span class="hl-1">, </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;plays&#39;</span><span class="hl-1">], </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;isSingle&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">            </span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-3">newSong</span><span class="hl-1">);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">selectedArtist</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-3">newSong</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-3">newSong</span><span class="hl-1">]);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qArtist</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the artist name or group (can be none [#$CONTINUE$#])&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1"> {}, [</span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">].</span><span class="hl-4">concat</span><span class="hl-1">((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">)));</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qAlbums</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedAlbums&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the albums that this item is part of (can be none [#$CONTINUE$#])&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, [</span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">].</span><span class="hl-4">concat</span><span class="hl-1">((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">)));</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qSongs</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedSongs&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the songs that are part of this item (can be none [#$CONTINUE$#])&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, [</span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">].</span><span class="hl-4">concat</span><span class="hl-1">((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">)));</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">)).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">artistInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedArtist</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedArtists</span><span class="hl-1">: (</span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1">)[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">artistInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qArtist</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">artistInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-3">selectedArtist</span><span class="hl-1"> !== </span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-3">selectedArtist</span><span class="hl-1">, </span><span class="hl-6">&#39;author&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> (</span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1">)[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedArtists</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedArtists</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">albumsInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedAlbums</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedAlbums</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">albumsInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qAlbums</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">albumsInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-3">selectedAlbums</span><span class="hl-1"> !== </span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-3">selectedAlbums</span><span class="hl-1">, </span><span class="hl-6">&#39;album&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedAlbums</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedAlbums</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">songsInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedSongs</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedSongs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">songsInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qSongs</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">songsInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">selectedSongs</span><span class="hl-1"> !== </span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">selectedSongs</span><span class="hl-1">, </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">newGenre</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Genre</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">], </span><span class="hl-3">selectedArtists</span><span class="hl-1">, </span><span class="hl-3">selectedAlbums</span><span class="hl-1">, </span><span class="hl-3">selectedSongs</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">selectedArtists</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">setGenres</span><span class="hl-1">(</span><span class="hl-3">newGenre</span><span class="hl-1">);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">selectedAlbums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">addGenres</span><span class="hl-1">([</span><span class="hl-3">newGenre</span><span class="hl-1">]);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">setGenres</span><span class="hl-1">(</span><span class="hl-3">newGenre</span><span class="hl-1">);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-3">newGenre</span><span class="hl-1">]);</span><br/><span class="hl-1">            </span><span class="hl-3">newGenre</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qArtist2</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the artist name or group&#39;</span><span class="hl-1">, </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">noEmptyChoice</span><span class="hl-1">, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qGenres2</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedGenres&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the genre&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qSongs2</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedSongs&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the songs that are part of this item&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">([</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qArtist2</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qReleaseDate</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">)]).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedArtist</span><span class="hl-1">: (</span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1">) = ((</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;author&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> (</span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1">)));</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">genresInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedGenres</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedGenres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">genresInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qGenres2</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">genresInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-3">selectedGenres</span><span class="hl-1"> !== </span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-3">selectedGenres</span><span class="hl-1">, </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">songsInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedSongs</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedSongs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">songsInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qSongs2</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">songsInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">selectedSongs</span><span class="hl-1"> !== </span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">selectedSongs</span><span class="hl-1">, </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">newAlbum</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Album</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">], </span><span class="hl-3">selectedArtist</span><span class="hl-1">, </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;date&#39;</span><span class="hl-1">], </span><span class="hl-3">selectedGenres</span><span class="hl-1">, </span><span class="hl-3">selectedSongs</span><span class="hl-1">);</span><br/><br/><span class="hl-1">            </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">setAlbums</span><span class="hl-1">(</span><span class="hl-3">newAlbum</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">setAlbums</span><span class="hl-1">(</span><span class="hl-3">newAlbum</span><span class="hl-1">);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-3">newAlbum</span><span class="hl-1">]);</span><br/><span class="hl-1">            </span><span class="hl-3">newAlbum</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qGroup3</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedGroup&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the group (can be none [#$CONTINUE$#])&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, [</span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">].</span><span class="hl-4">concat</span><span class="hl-1">((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">)));</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qGenres3</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedGenre&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the genre&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qAlbums3</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedAlbum&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the albums that this item is part of (can be none [#$CONTINUE$#])&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, [</span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">].</span><span class="hl-4">concat</span><span class="hl-1">((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">)));</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qSongs3</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedSong&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the songs that are part of this item (can be none [#$CONTINUE$#])&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, [</span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">].</span><span class="hl-4">concat</span><span class="hl-1">((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">)));</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">([</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qListeners</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">)]).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">groupsInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedGroup</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedGroups</span><span class="hl-1">: </span><span class="hl-2">Group</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">groupsInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qGroup3</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">genresInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedGenre</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedGenres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">genresInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qGenres3</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">albumsInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedAlbum</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedAlbums</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">albumsInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qAlbums3</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">songsInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedSong</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedSongs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">songsInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qSongs3</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">groupsInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-3">selectedGroup</span><span class="hl-1"> !== </span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Group</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-3">selectedGroup</span><span class="hl-1">, </span><span class="hl-6">&#39;group&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Group</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedGroups</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGroups</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">genresInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-3">selectedGenre</span><span class="hl-1">, </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">albumsInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-3">selectedAlbum</span><span class="hl-1"> !== </span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-3">selectedAlbum</span><span class="hl-1">, </span><span class="hl-6">&#39;album&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedAlbums</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedAlbums</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">songsInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">selectedSong</span><span class="hl-1"> !== </span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">selectedSong</span><span class="hl-1">, </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">newArtist</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Artist</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">], </span><span class="hl-3">selectedGroups</span><span class="hl-1">, </span><span class="hl-3">selectedGenres</span><span class="hl-1">, </span><span class="hl-3">selectedAlbums</span><span class="hl-1">, </span><span class="hl-3">selectedSongs</span><span class="hl-1">, </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;listeners&#39;</span><span class="hl-1">] );</span><br/><span class="hl-1">            </span><span class="hl-3">selectedGroups</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">setMembers</span><span class="hl-1">(</span><span class="hl-3">newArtist</span><span class="hl-1">);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">setAuthors</span><span class="hl-1">(</span><span class="hl-3">newArtist</span><span class="hl-1">);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">selectedAlbums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">setAuthor</span><span class="hl-1">(</span><span class="hl-3">newArtist</span><span class="hl-1">);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">setArtists</span><span class="hl-1">(</span><span class="hl-3">newArtist</span><span class="hl-1">);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-3">newArtist</span><span class="hl-1">]);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qMember4</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedMember&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the members of the group&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qGenres4</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedGenre&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the genre&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qAlbums4</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedAlbum&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the albums that this item is part of (can be none [#$CONTINUE$#])&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, [</span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">].</span><span class="hl-4">concat</span><span class="hl-1">((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">)));</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">([</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qReleaseDate</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qListeners</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">)]).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">membersInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedMember</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedMembers</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">membersInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qMember4</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">genresInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedGenre</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedGenres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">genresInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qGenres4</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">albumsInputs</span><span class="hl-1">: {</span><span class="hl-3">selectedAlbum</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedAlbums</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">albumsInputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qAlbums4</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-3">membersInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-3">selectedMember</span><span class="hl-1">, </span><span class="hl-6">&#39;artist&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedMembers</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedMembers</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">genresInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-3">selectedGenre</span><span class="hl-1">, </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">albumsInputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-3">selectedAlbum</span><span class="hl-1"> !== </span><span class="hl-6">&#39;#$CONTINUE$#&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-3">selectedAlbum</span><span class="hl-1">, </span><span class="hl-6">&#39;album&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedAlbums</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedAlbums</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">newGroup</span><span class="hl-1">: </span><span class="hl-2">Group</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Group</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">], </span><span class="hl-3">selectedMembers</span><span class="hl-1">, </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;date&#39;</span><span class="hl-1">], </span><span class="hl-3">selectedGenres</span><span class="hl-1">, </span><span class="hl-3">selectedAlbums</span><span class="hl-1">, </span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;listeners&#39;</span><span class="hl-1">] );</span><br/><span class="hl-1">            </span><span class="hl-3">selectedMembers</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">setGroups</span><span class="hl-1">(</span><span class="hl-3">newGroup</span><span class="hl-1">);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">selectedGenres</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">setAuthors</span><span class="hl-1">(</span><span class="hl-3">newGroup</span><span class="hl-1">);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-3">selectedAlbums</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">            </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">setAuthor</span><span class="hl-1">(</span><span class="hl-3">newGroup</span><span class="hl-1">);</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-3">newGroup</span><span class="hl-1">]);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">()).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qSongs</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;songs&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the songs that are part of this item&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">inputs</span><span class="hl-1">: {</span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">            </span><span class="hl-3">inputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qSongs</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedSongs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">            </span><span class="hl-3">inputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">dummy</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">, </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">)) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">dummy</span><span class="hl-1">);</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">newPlaylist</span><span class="hl-1">: </span><span class="hl-2">Playlist</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Playlist</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">], </span><span class="hl-3">selectedSongs</span><span class="hl-1">, </span><span class="hl-9">0</span><span class="hl-1">, []);</span><br/><span class="hl-1">            </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">addToMemory</span><span class="hl-1">([</span><span class="hl-3">newPlaylist</span><span class="hl-1">]);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">updatePlaylists</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">isInitialized</span><span class="hl-1">()) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">setChangesSaved</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>En lugar de crear una función de adición para cada tipo de objeto, decidimos crear una función única a la que se le indique mediante un argumento qué tipo de objeto se va a crear. Así podremos aprovechar que la operación de adición para todos los objetos es bastante similar y ahorraremos bastantes líneas de código redundante.</p>
<p>El proceso es sencillo, si por ejemplo indicamos a través del argumento que queremos añadir una canción, este comando se evaluará en el switch y accederá al case &#39;Song&#39;, donde se generará un nuevo [Song] con los datos indicados por el usuario.</p>
<p>Estos datos, serán dados mediante preguntas y respuestas. Esto se podría haber implementado directamente en la función, pero habría aumentado notable e innecesariamente la complejidad del código. Para eso, decidimos crear una nueva clase: Question</p>
<p>🔗 <a href="./src/Question.ts">Question.ts</a></p>
<p>Esta sirve de abstracción en el manejo de preguntas y respuestas, pudiendo escoger mediante booleanos ciertos rasgos como la presencia o ausencia de opciones entre las que escoger (choices).</p>
<p>Por ejemplo, al crear una canción se le preguntará al usuario por los géneros musicales de la misma, y este responderá con los correspondientes. Estos serán colocados en una variable para más tarde formar parte del constructor de la canción generada. Se hará lo mismo para el resto de atributos de la clase a instanciar.</p>
<p>Además, al realizar esta operación, y el resto de operaciones que hagan diferir la base de datos de memoria de la registrada en el fichero JSON, marcamos el atributo <em>changesSaved</em> del [JsonDatabase] como falso (mediante la función setChangesSaved() que explicamos con anterioridad).</p>
<p>Por último, y también con cada cambio que realicemos (addPrompt(), modifyPrompt() o promptDelete()), se actualizarán las playlists mediante la función updatePlaylists(). Esto es porque, si por ejemplo borramos una canción de la base de datos, tendrá que verse reflejado en aquellas playlists a las que pertenecía.</p>
<br>


<a href="#modifyprompt" id="modifyprompt" style="color: inherit; text-decoration: none;">
  <h3>modifyPrompt()</h3>
</a>
<blockquote>
<p>Prompt para modificar un elemento de la base de datos</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-4">modifyPrompt</span><span class="hl-1">(</span><span class="hl-3">command</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    const </span><span class="hl-3">qName:</span><span class="hl-1"> </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;input&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the name/title&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qArtist</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the artist name or group&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qMember</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;members&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the members of the group&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qLength</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;input&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;length&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the length&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qGenres</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;selectedGenre&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select the genre&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qReleaseDate</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;input&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;date&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the release date&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qSongs</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;songs&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the songs that are part of this item&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qAlbums</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;albums&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the albums that this item is part of&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qListeners</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;input&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;listeners&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the ammount of listeners of this artist&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qPlays</span><span class="hl-1">: </span><span class="hl-3">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;input&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;plays&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the number of plays&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">qSingle</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;isSingle&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;confirm&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;It is a single?&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">    </span><span class="hl-10">// QUESTIONS</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">songQuestions</span><span class="hl-1"> = [</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(), </span><span class="hl-3">qArtist</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">qLength</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(), </span><span class="hl-3">qGenres</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qPlays</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(), </span><span class="hl-3">qSingle</span><span class="hl-1">];</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">playlistQuestions</span><span class="hl-1"> = [</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(), </span><span class="hl-3">qSongs</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">qLength</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(), </span><span class="hl-3">qGenres</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">)];</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">albumQuestions</span><span class="hl-1"> = [</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-3">qArtist</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qReleaseDate</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(), </span><span class="hl-3">qGenres</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qSongs</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">)];</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">artistQuestions</span><span class="hl-1"> = [</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-3">qMember</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qGenres</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">qAlbums</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qSongs</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qListeners</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">()];</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">groupQuestions</span><span class="hl-1"> = [</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(), </span><span class="hl-3">qArtist</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">qReleaseDate</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(), </span><span class="hl-3">qGenres</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qAlbums</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qListeners</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">()];</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">genreQuestions</span><span class="hl-1"> = [</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-3">qArtist</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qAlbums</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">), </span><span class="hl-3">qSongs</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">)];</span><br/><br/><span class="hl-1">    </span><span class="hl-10">// CHOICES</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">songChoice</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;songChoice&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select song&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">albumChoice</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;albumChoice&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select album&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">artistChoice</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;artistChoice&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select artist&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">groupChoice</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;groupChoice&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select group&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">genreChoice</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;genreChoice&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select genre&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-3">playlistChoice</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;playlistChoice&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select playlist&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ONLYNEW$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-2">Promise</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">resolve</span><span class="hl-1">, </span><span class="hl-3">reject</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Modifying &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39;</span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">command</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to modify&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">songChoice</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">)).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedSongs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;songChoice&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[];</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-3">length</span><span class="hl-1"> &gt; </span><span class="hl-9">1</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">duplicateSongsMap</span><span class="hl-1">: </span><span class="hl-2">Map</span><span class="hl-1">&lt;</span><span class="hl-2">Song</span><span class="hl-1">, </span><span class="hl-2">string</span><span class="hl-1">&gt; = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-2">Map</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">duplicateSongsMap</span><span class="hl-1">.</span><span class="hl-4">set</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">, </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getArtists</span><span class="hl-1">().</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">duplicateSongsString</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">                </span><span class="hl-3">duplicateSongsMap</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">, </span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">duplicateSongsString</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; by &#39;</span><span class="hl-1"> + </span><span class="hl-3">artist</span><span class="hl-1">);</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;discernedSong&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Select song from duplicates&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1"> {}, </span><span class="hl-3">duplicateSongsString</span><span class="hl-1">).</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">)).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSongs</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;discernedSong&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[];</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedSong</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1"> = </span><span class="hl-3">selectedSongs</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">            </span><span class="hl-3">selectedSong</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">songQuestions</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSong</span><span class="hl-1">.</span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">artistGroupRemoved</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1"> = </span><span class="hl-3">selectedSong</span><span class="hl-1">.</span><span class="hl-4">getArtists</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">artistGroupCopy</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1"> = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;author&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1">;</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artistGroupRemoved</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-3">artistGroupRemoved</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">selectedSong</span><span class="hl-1"> === </span><span class="hl-3">song</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artistGroupRemoved</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">                        </span><span class="hl-3">artistGroupRemoved</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSong</span><span class="hl-1">.</span><span class="hl-4">setArtists</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;author&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artistGroupCopy</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-3">artistGroupCopy</span><span class="hl-1">.</span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-3">selectedSong</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">genresRemoved</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-3">selectedSong</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-3">genresRemoved</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">selectedSong</span><span class="hl-1"> === </span><span class="hl-3">song</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSong</span><span class="hl-1">.</span><span class="hl-4">replaceGenres</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedGenre&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[]);</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSong</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-3">selectedSong</span><span class="hl-1">);</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSong</span><span class="hl-1">.</span><span class="hl-4">setPlays</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;plays&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSong</span><span class="hl-1">.</span><span class="hl-4">setSingle</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;isSingle&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">                </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to modify&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">genreChoice</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">)).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedGenres</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;genreChoice&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedGenre</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1"> = </span><span class="hl-3">selectedGenres</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">            </span><span class="hl-3">selectedGenre</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">genreQuestions</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGenre</span><span class="hl-1">.</span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">artistsGroupsRemoved</span><span class="hl-1">: (</span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1">)[] = </span><span class="hl-3">selectedGenre</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">artistGroupCopy</span><span class="hl-1">: (</span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1">) = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;author&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> (</span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">artistGroupCopy</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-3">artistsGroupsRemoved</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">value</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">value</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() === </span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()) {</span><br/><span class="hl-1">                        </span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                    });</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">value</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Group</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() === </span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()) {</span><br/><span class="hl-1">                        </span><span class="hl-3">value</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                    });</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artistGroupCopy</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-3">artistGroupCopy</span><span class="hl-1">.</span><span class="hl-4">setGenres</span><span class="hl-1">(</span><span class="hl-3">selectedGenre</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artistGroupCopy</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Group</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-3">artistGroupCopy</span><span class="hl-1">.</span><span class="hl-4">addGenres</span><span class="hl-1">([</span><span class="hl-3">selectedGenre</span><span class="hl-1">]);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGenre</span><span class="hl-1">.</span><span class="hl-4">setAuthors</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;author&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">albumsRemoved</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[] = </span><span class="hl-3">selectedGenre</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">albumsCopy</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedAlbum&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">[];</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGenre</span><span class="hl-1">.</span><span class="hl-4">replaceAlbums</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedAlbum&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">[]);</span><br/><span class="hl-1">                </span><span class="hl-3">albumsRemoved</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genre</span><span class="hl-1"> === </span><span class="hl-3">selectedGenre</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">albumsCopy</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">addGenres</span><span class="hl-1">([</span><span class="hl-3">selectedGenre</span><span class="hl-1">]);</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">songsRemoved</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = </span><span class="hl-3">selectedGenre</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">songsCopy</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedSong&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[];</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGenre</span><span class="hl-1">.</span><span class="hl-4">replaceSongs</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedSong&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[]);</span><br/><span class="hl-1">                </span><span class="hl-3">songsRemoved</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genre</span><span class="hl-1"> == </span><span class="hl-3">selectedGenre</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">songsCopy</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">setGenres</span><span class="hl-1">(</span><span class="hl-3">selectedGenre</span><span class="hl-1">);</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to modify&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">albumChoice</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">)).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedAlbums</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;albumChoice&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;album&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedAlbum</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1"> = </span><span class="hl-3">selectedAlbums</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">            </span><span class="hl-3">selectedAlbum</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">albumQuestions</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedAlbum</span><span class="hl-1">.</span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">artistsGroups2Removed</span><span class="hl-1">: (</span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1">) = </span><span class="hl-3">selectedAlbum</span><span class="hl-1">.</span><span class="hl-4">getAuthor</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">artistGroup2Copy</span><span class="hl-1">: (</span><span class="hl-2">Group</span><span class="hl-1"> | </span><span class="hl-2">Artist</span><span class="hl-1">) = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;author&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> (</span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-3">artistsGroups2Removed</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() === </span><span class="hl-3">selectedAlbum</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()) {</span><br/><span class="hl-1">                    </span><span class="hl-3">artistsGroups2Removed</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">artistGroup2Copy</span><span class="hl-1">.</span><span class="hl-4">setAlbums</span><span class="hl-1">(</span><span class="hl-3">selectedAlbum</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-3">selectedAlbum</span><span class="hl-1">.</span><span class="hl-4">setAuthor</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;author&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">Group</span><span class="hl-1">);</span><br/><br/><span class="hl-1">                </span><span class="hl-3">selectedAlbum</span><span class="hl-1">.</span><span class="hl-4">setDate</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;date&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">genres2Removed</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-3">selectedAlbum</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">genres2Copy</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedGenre&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[];</span><br/><span class="hl-1">                </span><span class="hl-3">selectedAlbum</span><span class="hl-1">.</span><span class="hl-4">setGenres</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedGenre&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[]);</span><br/><span class="hl-1">                </span><span class="hl-3">genres2Removed</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">album</span><span class="hl-1"> === </span><span class="hl-3">selectedAlbum</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">genres2Copy</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">setAlbums</span><span class="hl-1">(</span><span class="hl-3">selectedAlbum</span><span class="hl-1">);</span><br/><span class="hl-1">                });</span><br/><br/><span class="hl-1">                </span><span class="hl-3">selectedAlbum</span><span class="hl-1">.</span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedSong&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[]);</span><br/><span class="hl-1">                </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to modify&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">artistChoice</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">)).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">result</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;artistChoice&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;artist&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">[];</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedArtist</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1"> = </span><span class="hl-3">result</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">            </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">artistQuestions</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">groups2Removed</span><span class="hl-1">: </span><span class="hl-2">Group</span><span class="hl-1">[] = </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">getGroups</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">groups2Copy</span><span class="hl-1">: </span><span class="hl-2">Group</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;members&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;group&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Group</span><span class="hl-1">[];</span><br/><span class="hl-1">                </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-3">groups2Removed</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getMembers</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">member</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">member</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() === </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">()) {</span><br/><span class="hl-1">                    </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getMembers</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">groups2Copy</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getMembers</span><span class="hl-1">().</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">selectedArtist</span><span class="hl-1">);</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">setGroups</span><span class="hl-1">(</span><span class="hl-3">groups2Copy</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">]);</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">genres3Removed</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">genres3Copy</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedGenre&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[];</span><br/><span class="hl-1">                </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">setGenres</span><span class="hl-1">((</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedGenre&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">]);</span><br/><span class="hl-1">                </span><span class="hl-3">genres3Removed</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">author</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">author</span><span class="hl-1"> === </span><span class="hl-3">selectedArtist</span><span class="hl-1">) {</span><br/><span class="hl-1">                    </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">genres3Copy</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">().</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">selectedArtist</span><span class="hl-1">);</span><br/><span class="hl-1">                });</span><br/><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">albums3Removed</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[] = </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">albums3Copy</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedAlbum&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;album&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">[];</span><br/><span class="hl-1">                </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">replaceAlbums</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedAlbum&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;album&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">[]);</span><br/><span class="hl-1">                </span><span class="hl-3">albums3Copy</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">setAuthor</span><span class="hl-1">(</span><span class="hl-3">selectedArtist</span><span class="hl-1">);</span><br/><span class="hl-1">                });</span><br/><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">songs3Removed</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">songs3Copy</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedSong&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[];</span><br/><span class="hl-1">                </span><span class="hl-3">selectedArtist</span><span class="hl-1">.</span><span class="hl-4">replaceSongs</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedSong&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[]);</span><br/><span class="hl-1">                </span><span class="hl-3">songs3Copy</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">setArtists</span><span class="hl-1">(</span><span class="hl-3">selectedArtist</span><span class="hl-1">);</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to modify&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">groupChoice</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">)).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedGroup</span><span class="hl-1">: </span><span class="hl-2">Group</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;groupChoice&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;group&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Group</span><span class="hl-1">[];</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">selectedGroup</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Array</span><span class="hl-1">) {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">groupQuestions</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">artist4Removed</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1">[] = </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-4">getMembers</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">artist4Copy</span><span class="hl-1">: </span><span class="hl-2">Artist</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;artist&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">[];</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-4">replaceMembers</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedArtist&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;artist&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">[]);</span><br/><span class="hl-1">                </span><span class="hl-3">artist4Removed</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getGroups</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">group</span><span class="hl-1"> === </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">]) {</span><br/><span class="hl-1">                    </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getMembers</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">artist4Copy</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getGroups</span><span class="hl-1">().</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">]);</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-4">setDate</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;date&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">genres4Removed</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-4">getGenres</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">genres4Copy</span><span class="hl-1">: </span><span class="hl-2">Genre</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedGenre&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[];</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-4">replaceGenres</span><span class="hl-1">(</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedGenre&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">[]);</span><br/><br/><span class="hl-1">                </span><span class="hl-3">genres4Removed</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">author</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">author</span><span class="hl-1"> === </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">]) {</span><br/><span class="hl-1">                    </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                    }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">genres4Copy</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">().</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">]);</span><br/><span class="hl-1">                });</span><br/><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">albums4Removed</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[] = </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-4">getAlbums</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">albums4Copy</span><span class="hl-1">: </span><span class="hl-2">Album</span><span class="hl-1">[] = </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedAlbum&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;album&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">[];</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-4">replaceAlbums</span><span class="hl-1">((</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;selectedAlbum&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;album&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">[]));</span><br/><br/><span class="hl-1">                </span><span class="hl-3">albums4Copy</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">setAuthor</span><span class="hl-1">(</span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">]);</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">selectedGroup</span><span class="hl-1">[</span><span class="hl-9">0</span><span class="hl-1">].</span><span class="hl-4">setListeners</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;listeners&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">                </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ONLYNEW$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to modify&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">playlistChoice</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">, </span><span class="hl-0">true</span><span class="hl-1">)).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedPlaylist</span><span class="hl-1">: </span><span class="hl-2">Playlist</span><span class="hl-1"> = (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;playlistChoice&#39;</span><span class="hl-1">], </span><span class="hl-6">&#39;playlist&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Playlist</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">];</span><br/><span class="hl-1">            </span><span class="hl-3">selectedPlaylist</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">qName</span><span class="hl-1">.</span><span class="hl-4">returnQuestion</span><span class="hl-1">()).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">selectedPlaylist</span><span class="hl-1">.</span><span class="hl-4">setName</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;name&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">                </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qSongs</span><span class="hl-1">: </span><span class="hl-2">Question</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Question</span><span class="hl-1">(</span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;songs&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Write the songs that are part of this item&#39;</span><span class="hl-1">, () </span><span class="hl-0">=&gt;</span><span class="hl-1">{}, (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">));</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">inputs</span><span class="hl-1">: {</span><span class="hl-3">songs</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">}[];</span><br/><span class="hl-1">                </span><span class="hl-3">inputs</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continueAdding</span><span class="hl-1">(</span><span class="hl-3">qSongs</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">selectedSongs</span><span class="hl-1">: </span><span class="hl-2">Song</span><span class="hl-1">[] = [];</span><br/><span class="hl-1">                </span><span class="hl-3">inputs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">)</span><span class="hl-0">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">((</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">searchByName</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-3">songs</span><span class="hl-1">, </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">[])[</span><span class="hl-9">0</span><span class="hl-1">]);</span><br/><span class="hl-1">                </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">);</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">selectedPlaylist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-9">0</span><span class="hl-1">, </span><span class="hl-3">selectedPlaylist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-3">length</span><span class="hl-1">);</span><br/><span class="hl-1">                </span><span class="hl-3">selectedSongs</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-3">selectedPlaylist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">includes</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">)) {</span><br/><span class="hl-1">                    </span><span class="hl-3">selectedPlaylist</span><span class="hl-1">.</span><span class="hl-4">setSongs</span><span class="hl-1">(</span><span class="hl-3">song</span><span class="hl-1">);</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">                });</span><br/><span class="hl-1">                </span><span class="hl-3">selectedPlaylist</span><span class="hl-1">.</span><span class="hl-4">updateGenres</span><span class="hl-1">();</span><br/><span class="hl-1">                </span><span class="hl-3">selectedPlaylist</span><span class="hl-1">.</span><span class="hl-4">updateDuration</span><span class="hl-1">();</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">            });</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">updatePlaylists</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">isInitialized</span><span class="hl-1">()) {</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">setChangesSaved</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">    });</span>
</code></pre>
<p>  }</p>
<p>Esta función sigue el mismo razonamiento que addPrompt(), salvo que en este caso se localizará el tipo de elemento, luego el elemento en concreto (a través de su nombre), y en cada caso concreto se invocará a una función u otra dependiendo de lo que el usuario haya solicitado modificar a través de las preguntas presentadas. En ese último paso, será cuestión de llamar a los distintos setters de cada clase para modificar sus atributos internos.</p>
<br>


<a href="#promptdelete" id="promptdelete" style="color: inherit; text-decoration: none;">
  <h3>promptDelete()</h3>
</a>
<blockquote>
<p>Prompt para eliminar un elemento de la base de datos</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-4">promptDelete</span><span class="hl-1">(</span><span class="hl-3">command</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">): </span><span class="hl-2">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">return new </span><span class="hl-4">Promise</span><span class="hl-1">(</span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-3">resolve</span><span class="hl-1">, </span><span class="hl-3">reject</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-2">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleting &#39;</span><span class="hl-1"> + </span><span class="hl-2">command</span><span class="hl-1">+</span><span class="hl-6">&#39;</span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-10">// console.log((await (this.database.getFromMemory(&#39;$ALL$&#39;, command))).map((o) =&gt; o.name));</span><br/><span class="hl-1">  </span><span class="hl-4">switch</span><span class="hl-1"> (</span><span class="hl-3">command</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to delete&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">      } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qSong</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1"> = {</span><br/><span class="hl-1">          </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;song&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Select song&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">choices:</span><span class="hl-1"> (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">qSong</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">copySong</span><span class="hl-1">: (</span><span class="hl-2">Song</span><span class="hl-1"> | </span><span class="hl-2">undefined</span><span class="hl-1">) = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">deleteFromMemory</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">song</span><span class="hl-1">, </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> (</span><span class="hl-2">Song</span><span class="hl-1"> | </span><span class="hl-2">undefined</span><span class="hl-1">);</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artist</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copySong</span><span class="hl-1"> === </span><span class="hl-3">song</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Author: &#39;</span><span class="hl-1"> + </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">album</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copySong</span><span class="hl-1"> === </span><span class="hl-3">song</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Album: &#39;</span><span class="hl-1"> + </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genre</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copySong</span><span class="hl-1"> === </span><span class="hl-3">song</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getSongs</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Genre: &#39;</span><span class="hl-1"> + </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted: &#39;</span><span class="hl-1"> + </span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">song</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to delete&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">      } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qGenre</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1"> = {</span><br/><span class="hl-1">          </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;genre&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Select genre&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">choices:</span><span class="hl-1"> (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">qGenre</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">genre</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">copyGenre</span><span class="hl-1">: (</span><span class="hl-2">Genre</span><span class="hl-1"> | </span><span class="hl-2">undefined</span><span class="hl-1">) = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">deleteFromMemory</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">genre</span><span class="hl-1">, </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> (</span><span class="hl-2">Genre</span><span class="hl-1"> | </span><span class="hl-2">undefined</span><span class="hl-1">);</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artist</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyGenre</span><span class="hl-1"> === </span><span class="hl-3">genre</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Artist: &#39;</span><span class="hl-1"> + </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">group</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Group</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyGenre</span><span class="hl-1"> === </span><span class="hl-3">genre</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Group: &#39;</span><span class="hl-1"> + </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">song</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyGenre</span><span class="hl-1"> === </span><span class="hl-3">genre</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Song: &#39;</span><span class="hl-1"> + </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">album</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyGenre</span><span class="hl-1"> === </span><span class="hl-3">genre</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getGenres</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Album: &#39;</span><span class="hl-1"> + </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted: &#39;</span><span class="hl-1"> + </span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">genre</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to delete&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">      } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qAlbum</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1"> = {</span><br/><span class="hl-1">          </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;album&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Select album&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">choices:</span><span class="hl-1"> (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">qAlbum</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">copyAlbum</span><span class="hl-1">: (</span><span class="hl-2">Album</span><span class="hl-1"> | </span><span class="hl-2">undefined</span><span class="hl-1">) = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">deleteFromMemory</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">album</span><span class="hl-1">, </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> (</span><span class="hl-2">Album</span><span class="hl-1"> | </span><span class="hl-2">undefined</span><span class="hl-1">);</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">group</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Group</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyAlbum</span><span class="hl-1"> === </span><span class="hl-3">album</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Group: &#39;</span><span class="hl-1"> + </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genre</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyAlbum</span><span class="hl-1"> === </span><span class="hl-3">album</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Genre: &#39;</span><span class="hl-1"> + </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artist</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyAlbum</span><span class="hl-1"> === </span><span class="hl-3">album</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getAlbums</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Artist: &#39;</span><span class="hl-1"> + </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted: &#39;</span><span class="hl-1"> + </span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">album</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to delete&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">      } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qArtist</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1"> = {</span><br/><span class="hl-1">          </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;artist&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Select artist&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">choices:</span><span class="hl-1"> (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">qArtist</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">copyArtist</span><span class="hl-1">: (</span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">undefined</span><span class="hl-1">) = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">deleteFromMemory</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">artist</span><span class="hl-1">, </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> (</span><span class="hl-2">Artist</span><span class="hl-1"> | </span><span class="hl-2">undefined</span><span class="hl-1">);</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">group</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Group</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getMembers</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyArtist</span><span class="hl-1"> === </span><span class="hl-3">artist</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getMembers</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Group: &#39;</span><span class="hl-1"> + </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">song</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyArtist</span><span class="hl-1"> === </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getArtists</span><span class="hl-1">()) {</span><br/><span class="hl-1">                </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Its not possible to delete the author from an Song, you have to remove the Song first&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">              }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">album</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyArtist</span><span class="hl-1"> === </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getAuthor</span><span class="hl-1">()) {</span><br/><span class="hl-1">                </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Its not possible to delete the author from an Album, you have to remove the Album first&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">              }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genre</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">author</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyArtist</span><span class="hl-1"> === </span><span class="hl-3">author</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">author</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Genre: &#39;</span><span class="hl-1"> + </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted: &#39;</span><span class="hl-1"> + </span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">artist</span><span class="hl-1">);</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to delete&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">      } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qGroup</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1"> = {</span><br/><span class="hl-1">          </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;group&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Select group&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">choices:</span><span class="hl-1"> (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">qGroup</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">copyGroup</span><span class="hl-1">: (</span><span class="hl-2">Group</span><span class="hl-1">|</span><span class="hl-2">undefined</span><span class="hl-1">) = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">deleteFromMemory</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">group</span><span class="hl-1">, </span><span class="hl-6">&#39;Group&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> (</span><span class="hl-2">Group</span><span class="hl-1">|</span><span class="hl-2">undefined</span><span class="hl-1">);</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Artist&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">artist</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">artist</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Artist</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getGroups</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">group</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyGroup</span><span class="hl-1"> === </span><span class="hl-3">group</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getGroups</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">group</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Artist: &#39;</span><span class="hl-1"> + </span><span class="hl-3">artist</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Genre&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">genre</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">genre</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Genre</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">author</span><span class="hl-1">, </span><span class="hl-3">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyGroup</span><span class="hl-1"> === </span><span class="hl-3">author</span><span class="hl-1">) {</span><br/><span class="hl-1">                  </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getAuthors</span><span class="hl-1">().</span><span class="hl-4">splice</span><span class="hl-1">(</span><span class="hl-3">index</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">                  </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted &#39;</span><span class="hl-1"> + </span><span class="hl-3">author</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() + </span><span class="hl-6">&#39; from Genre: &#39;</span><span class="hl-1"> + </span><span class="hl-3">genre</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">());</span><br/><span class="hl-1">                }</span><br/><span class="hl-1">              });</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Album&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">album</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">album</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Album</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyGroup</span><span class="hl-1"> === </span><span class="hl-3">album</span><span class="hl-1">.</span><span class="hl-4">getAuthor</span><span class="hl-1">()) {</span><br/><span class="hl-1">                </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Its not possible to delete the author from an Album, you have to remove the Album first&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">              }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          (</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ALL$&#39;</span><span class="hl-1">, </span><span class="hl-6">&#39;Song&#39;</span><span class="hl-1">)).</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-3">song</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">song</span><span class="hl-1"> </span><span class="hl-0">instanceof</span><span class="hl-1"> </span><span class="hl-2">Song</span><span class="hl-1">) {</span><br/><span class="hl-1">              </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">copyGroup</span><span class="hl-1"> === </span><span class="hl-3">song</span><span class="hl-1">.</span><span class="hl-4">getArtists</span><span class="hl-1">()) {</span><br/><span class="hl-1">                </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Its not possible to delete a group from an Song, you have to remove the Song first&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">              }</span><br/><span class="hl-1">            }</span><br/><span class="hl-1">          });</span><br/><span class="hl-1">          </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;Deleted: &#39;</span><span class="hl-1"> + </span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">group</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-5">if</span><span class="hl-1"> ((</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ONLYNEW$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">).</span><span class="hl-3">length</span><span class="hl-1"> == </span><span class="hl-9">0</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;There are no &#39;</span><span class="hl-1"> + </span><span class="hl-3">command</span><span class="hl-1"> + </span><span class="hl-6">&#39; to delete&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">      } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-11">qPlaylist</span><span class="hl-1">: </span><span class="hl-2">Object</span><span class="hl-1"> = {</span><br/><span class="hl-1">          </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;playlist&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;search-list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Select playlist&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-3">choices:</span><span class="hl-1"> (</span><span class="hl-5">await</span><span class="hl-1"> (</span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">getFromMemory</span><span class="hl-1">(</span><span class="hl-6">&#39;$ONLYNEW$&#39;</span><span class="hl-1">, </span><span class="hl-3">command</span><span class="hl-1">))).</span><span class="hl-4">map</span><span class="hl-1">((</span><span class="hl-3">o</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">o</span><span class="hl-1">.</span><span class="hl-3">name</span><span class="hl-1">),</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">(</span><span class="hl-3">qPlaylist</span><span class="hl-1">).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">deleteFromMemory</span><span class="hl-1">(</span><span class="hl-3">answers</span><span class="hl-1">.</span><span class="hl-3">playlist</span><span class="hl-1">, </span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-2">database</span><span class="hl-1">.</span><span class="hl-2">updatePlaylists</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-4">if</span><span class="hl-1"> (this.database.isInitialized()) {</span><br/><span class="hl-1">    </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">setChangesSaved</span><span class="hl-1">(</span><span class="hl-0">false</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-4">resolve</span><span class="hl-1">();</span><br/><span class="hl-1">});</span>
</code></pre>
<p>  }</p>
<p>Al igual que las dos funciones anteriores (añadir y modificar), se le preguntará al usuario qué objeto quiere borrar a través de preguntas (solo hará falta una, pues no se trabajará con el resto de atributos, solo se pretende borrar el objeto completo). </p>
<p>Aquí debemos tener en cuenta lo siguiente. Para borrar correctamente un elemento de la base de datos no basta con eliminar su entrada específica, sino que también deben borrarse las referencias al mismo. Por ejemplo, si borramos un grupo no solo habrá que borrar su correspondiente objeto [Group], sino que habrá que eliminarlo de la lista de grupos de los [Artist] que sean miembros y de los [Genre] que tengan dicho grupo en su lista.</p>
<p>Habrá, no obstante, algunos elementos que no podremos eliminar. Por ejemplo, no podremos eliminar el autor de una canción, pues es ilógica esta operación. Si se intenta, saldrá un mensaje avisando de que antes deberá borrarse la canción, y luego podrá eliminarse al artista. Otra alternativa a esto sería implementar algún borrado recursivo, o cualquier técnica que, al intentar borrar un artista, borre primero todas sus canciones y finalmente borre el propio objeto [Artist] (y se haría del mismo modo para situaciones similares con otros elementos vinculados entre sí).</p>
<br>


<a href="#promptmanagement" id="promptmanagement" style="color: inherit; text-decoration: none;">
  <h3>promptManagement()</h3>
</a>
<blockquote>
<p>Prompt para las distintas opciones de gestión de la base de datos</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-4">promptManagement</span><span class="hl-1">(): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-3">option</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1"> = </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Choose option&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">choices:</span><span class="hl-1"> </span><span class="hl-2">Object</span><span class="hl-1">.</span><span class="hl-4">values</span><span class="hl-1">(</span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">managementCommands</span><span class="hl-1">),</span><br/><span class="hl-1">    }).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">managementCommands</span><span class="hl-1">.</span><span class="hl-3">Add</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">option</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">selectTypePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">option</span><span class="hl-1"> !== </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">addPrompt</span><span class="hl-1">(</span><span class="hl-3">option</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">managementCommands</span><span class="hl-1">.</span><span class="hl-3">Modify</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">option</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">selectTypePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-3">option</span><span class="hl-1"> !== </span><span class="hl-6">&#39;&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">modifyPrompt</span><span class="hl-1">(</span><span class="hl-3">option</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">managementCommands</span><span class="hl-1">.</span><span class="hl-3">Delete</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;WIP&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptDelete</span><span class="hl-1">(</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">selectTypePrompt</span><span class="hl-1">());</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">managementCommands</span><span class="hl-1">.</span><span class="hl-3">DisplayMEM</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">printMemory</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">managementCommands</span><span class="hl-1">.</span><span class="hl-3">DisplayDB</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">print</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-3">error</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">error</span><span class="hl-1">(</span><span class="hl-3">error</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">managementCommands</span><span class="hl-1">.</span><span class="hl-3">Load</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">loadDbPrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">managementCommands</span><span class="hl-1">.</span><span class="hl-3">Save</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">saveFromMemToDb</span><span class="hl-1">();</span><br/><span class="hl-1">        } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-3">error</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">error</span><span class="hl-1">(</span><span class="hl-3">error</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">managementCommands</span><span class="hl-1">.</span><span class="hl-3">Purge</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">purgeDatabase</span><span class="hl-1">();</span><br/><span class="hl-1">        } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-3">error</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">error</span><span class="hl-1">(</span><span class="hl-3">error</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">managementCommands</span><span class="hl-1">.</span><span class="hl-3">PurgeMEM</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">purgeMemory</span><span class="hl-1">();</span><br/><span class="hl-1">        } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-3">error</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">error</span><span class="hl-1">(</span><span class="hl-3">error</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">managementCommands</span><span class="hl-1">.</span><span class="hl-3">Return</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptStart</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span>
</code></pre>
<br>


<a href="#promptplaylistmanagement" id="promptplaylistmanagement" style="color: inherit; text-decoration: none;">
  <h3>promptPlaylistManagement()</h3>
</a>
<blockquote>
<p>Prompt para la gestión de una playlist</p>
</blockquote>
<pre><code><span class="hl-3">private</span><span class="hl-1"> </span><span class="hl-4">promptPlaylistManagement</span><span class="hl-1">(): </span><span class="hl-0">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">clear</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-6">&#39;------Musitronic360------ </span><span class="hl-8">\n</span><span class="hl-6">&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">inquirer</span><span class="hl-1">.</span><span class="hl-4">prompt</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-6">&#39;list&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">name:</span><span class="hl-1"> </span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">message:</span><span class="hl-1"> </span><span class="hl-6">&#39;Choose option&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">choices:</span><span class="hl-1"> </span><span class="hl-2">Object</span><span class="hl-1">.</span><span class="hl-4">values</span><span class="hl-1">(</span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">playlistManagementCommands</span><span class="hl-1">),</span><br/><span class="hl-1">    }).</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-3">answers</span><span class="hl-1">[</span><span class="hl-6">&#39;command&#39;</span><span class="hl-1">]) {</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">playlistManagementCommands</span><span class="hl-1">.</span><span class="hl-3">Add</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">addPrompt</span><span class="hl-1">(</span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">playlistManagementCommands</span><span class="hl-1">.</span><span class="hl-3">Modify</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">playlistManagementCommands</span><span class="hl-1">.</span><span class="hl-3">Delete</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptDelete</span><span class="hl-1">(</span><span class="hl-6">&#39;Playlist&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">playlistManagementCommands</span><span class="hl-1">.</span><span class="hl-3">Save</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-3">database</span><span class="hl-1">.</span><span class="hl-4">saveFromMemToDb</span><span class="hl-1">();</span><br/><span class="hl-1">        } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-3">error</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-4">error</span><span class="hl-1">(</span><span class="hl-3">error</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">continuePrompt</span><span class="hl-1">();</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptManagement</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">command</span><span class="hl-1">.</span><span class="hl-3">playlistManagementCommands</span><span class="hl-1">.</span><span class="hl-3">Return</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-0">this</span><span class="hl-1">.</span><span class="hl-4">promptStart</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span><br/><span class="hl-1">}</span>
</code></pre>
<p><br><br></p>
<hr>
<p><br><br></p>

<a href="#conclusión-que-suene-la-música" id="conclusión-que-suene-la-música" style="color: inherit; text-decoration: none;">
  <h1>Conclusión: Que suene la música</h1>
</a>
<blockquote>
<p><em>&quot;Music is the universal language of mankind.&quot;</em> ~ Henry Wadsworth Longfellow</p>
</blockquote>
<p>Llegados a este punto, el sistema funciona correctamente. Teníamos un desafío, digitalizar una colección musical, y hemos explicado cada una de las baldosas del camino que nos ha llevado desde los bocetos iniciales hasta tener un software operativo.</p>
<p>Desde el diseño de las clases básicas para representar los distintos elementos de la base de datos, hasta el esqueleto de la base de datos en sí. Las funciones de gestión, de ordenación, los sistemas de preguntas y respuestas. El uso de lowdb para permitir unir los datos generados en memoria con algo más tangible y duradero como es un fichero JSON. El empleo de inquirer para darle el control del sistema al usuario, y entre medias el desarrollo de distintas soluciones que han permitido sortear los variados errores que surgen en cualquier ejercicio de programación.</p>
<p>Ahora, con todos los engranajes bien colocados, la máquina operativa y habiendo comprobado su correcto funcionamiento, solo quedaría mejorarla y ampliar sus horizontes hasta tener la versión perfecta (o casi perfecta) de aquella idea que nació en lápiz y papel. </p>
<p>Pero, como eso es un camino sin final y debemos ajustarnos al plazo que se nos ha dado para el desarrollo, nos satisface presentar esta primera versión funcional de nuestro programa, Musitronic360.</p>
<p>Descarga el código, compílalo y ejecútalo. Utiliza nuestro programa y haz realidad tu propia colección musical digital. Una vez lo hayas hecho, podremos considerar finalizado nuestro trabajo.</p>
<p>Solo nos queda alzar la batuta y despedir este informe con un último <strong><em>¡Música maestro!</em></strong></p>
<p>· Mario, Marco y Jonay
<br>
~ Grupo R</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/database_JsonDatabase.html">database/<wbr/>Json<wbr/>Database</a></li><li class=" tsd-kind-module"><a href="modules/database_anyDatabase.html">database/any<wbr/>Database</a></li><li class=" tsd-kind-module"><a href="modules/database_database.html">database/database</a></li><li class=" tsd-kind-module"><a href="modules/management_Commands.html">management/<wbr/>Commands</a></li><li class=" tsd-kind-module"><a href="modules/management_Question.html">management/<wbr/>Question</a></li><li class=" tsd-kind-module"><a href="modules/management_terminal.html">management/terminal</a></li><li class=" tsd-kind-module"><a href="modules/models_Album.html">models/<wbr/>Album</a></li><li class=" tsd-kind-module"><a href="modules/models_Artist.html">models/<wbr/>Artist</a></li><li class=" tsd-kind-module"><a href="modules/models_Genre.html">models/<wbr/>Genre</a></li><li class=" tsd-kind-module"><a href="modules/models_Group.html">models/<wbr/>Group</a></li><li class=" tsd-kind-module"><a href="modules/models_Playlist.html">models/<wbr/>Playlist</a></li><li class=" tsd-kind-module"><a href="modules/models_Song.html">models/<wbr/>Song</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>